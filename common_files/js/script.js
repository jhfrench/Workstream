/* Author: Jeromy French
	JavaScript that executes with each page-load
*/

// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log = function f(){ log.history = log.history || []; log.history.push(arguments); if(this.console) { var args = arguments, newarr; args.callee = args.callee.caller; newarr = [].slice.call(args); if (typeof console.log === 'object') log.apply.call(console.log, console, newarr); else console.log.apply(console, newarr);}};

// make it safe to use console.log always
(function(a){function b(){}for(var c='assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn'.split(','),d;!!(d=c.pop());){a[d]=a[d]||b;}})
(function(){try{console.log();return window.console;}catch(a){return (window.console={});}}());

if (!('console' in this)) console={}; 'log info warn error dir clear'.replace(/\w+/g,function(f) {   if (!(f in console)) console[f]=console.log||new Function; }); 

// place any jQuery/helper plugins in here, instead of separate, slower script files.

//from DataTables/media/js/jQuery.dataTables.js, as minified by http://jscompress.com/
(function(e,t,n){(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(jQuery&&!jQuery.fn.dataTable){e(jQuery)}})(function(r){"use strict";function s(e){var t="a aa ao as b fn i m o s ",n,i,o={};r.each(e,function(r,u){n=r.match(/^([^A-Z]+?)([A-Z])/);if(n&&t.indexOf(n[1]+" ")!==-1){i=r.replace(n[0],n[2].toLowerCase());o[i]=r;if(n[1]==="o"){s(e[r])}}});e._hungarianMap=o}function o(e,t,i){if(!e._hungarianMap){s(e)}var u;r.each(t,function(r,s){u=e._hungarianMap[r];if(u!==n&&(i||t[u]===n)){t[u]=t[r];if(u.charAt(0)==="o"){o(e[u],t[r])}}})}function u(e){var t=i.defaults.oLanguage;if(!e.sEmptyTable&&e.sZeroRecords&&t.sEmptyTable==="No data available in table"){Pt(e,e,"sZeroRecords","sEmptyTable")}if(!e.sLoadingRecords&&e.sZeroRecords&&t.sLoadingRecords==="Loading..."){Pt(e,e,"sZeroRecords","sLoadingRecords")}}function a(e){var n=r('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden">'+'<div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;">'+'<div id="DT_BrowserTest" style="width:100%; height:10px;"></div>'+"</div>"+"</div>")[0];t.body.appendChild(n);e.oBrowser.bScrollOversize=r("#DT_BrowserTest",n)[0].offsetWidth===100?true:false;e.oBrowser.bScrollbarLeft=r("#DT_BrowserTest",n).offset().left!==1?true:false;t.body.removeChild(n)}function f(e,s){var o=i.defaults.column;var u=e.aoColumns.length;var a=r.extend({},i.models.oColumn,o,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:s?s:t.createElement("th"),sTitle:o.sTitle?o.sTitle:s?s.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[u],mData:o.mData?o.oDefaults:u});e.aoColumns.push(a);if(e.aoPreSearchCols[u]===n||e.aoPreSearchCols[u]===null){e.aoPreSearchCols[u]=r.extend({},i.models.oSearch)}else{var f=e.aoPreSearchCols[u];if(f.bRegex===n){f.bRegex=true}if(f.bSmart===n){f.bSmart=true}if(f.bCaseInsensitive===n){f.bCaseInsensitive=true}}l(e,u,null)}function l(e,t,s){var u=e.aoColumns[t];if(s!==n&&s!==null){o(i.defaults.column,s);if(s.mDataProp!==n&&!s.mData){s.mData=s.mDataProp}if(s.sType!==n){u.sType=s.sType;u._bAutoType=false}r.extend(u,s);Pt(u,s,"sWidth","sWidthOrig");if(s.iDataSort!==n){u.aDataSort=[s.iDataSort]}Pt(u,s,"aDataSort")}var a=u.mRender?A(u.mRender):null;var f=A(u.mData);u.fnGetData=function(e,t){var n=f(e,t);if(u.mRender&&t&&t!==""){return a(n,t,e)}return n};u.fnSetData=O(u.mData);if(!e.oFeatures.bSort){u.bSortable=false}if(!u.bSortable||r.inArray("asc",u.asSorting)==-1&&r.inArray("desc",u.asSorting)==-1){u.sSortingClass=e.oClasses.sSortableNone;u.sSortingClassJUI=""}else if(r.inArray("asc",u.asSorting)==-1&&r.inArray("desc",u.asSorting)==-1){u.sSortingClass=e.oClasses.sSortable;u.sSortingClassJUI=e.oClasses.sSortJUI}else if(r.inArray("asc",u.asSorting)!=-1&&r.inArray("desc",u.asSorting)==-1){u.sSortingClass=e.oClasses.sSortableAsc;u.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed}else if(r.inArray("asc",u.asSorting)==-1&&r.inArray("desc",u.asSorting)!=-1){u.sSortingClass=e.oClasses.sSortableDesc;u.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed}}function c(e){if(e.oFeatures.bAutoWidth===false){return false}bt(e);for(var t=0,n=e.aoColumns.length;t<n;t++){e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}}function h(e,t){var n=v(e,"bVisible");return typeof n[t]==="number"?n[t]:null}function p(e,t){var n=v(e,"bVisible");var i=r.inArray(t,n);return i!==-1?i:null}function d(e){return v(e,"bVisible").length}function v(e,t){var n=[];r.map(e.aoColumns,function(e,r){if(e[t]){n.push(r)}});return n}function m(e){var t=i.ext.aTypes;var n=t.length;for(var r=0;r<n;r++){var s=t[r](e);if(s!==null){return s}}return"string"}function g(e){var t="";for(var n=0,r=e.aoColumns.length;n<r;n++){t+=e.aoColumns[n].sName+","}if(t.length==r){return""}return t.slice(0,-1)}function y(e,t,n,i){var s,o,u,a,l,c;if(t){for(s=t.length-1;s>=0;s--){var h=t[s].targets||t[s].aTargets;if(!r.isArray(h)){Dt(e,1,"aTargets must be an array of targets, not a "+typeof h)}for(u=0,a=h.length;u<a;u++){if(typeof h[u]==="number"&&h[u]>=0){while(e.aoColumns.length<=h[u]){f(e)}i(h[u],t[s])}else if(typeof h[u]==="number"&&h[u]<0){i(e.aoColumns.length+h[u],t[s])}else if(typeof h[u]==="string"){for(l=0,c=e.aoColumns.length;l<c;l++){if(h[u]=="_all"||r(e.aoColumns[l].nTh).hasClass(h[u])){i(l,t[s])}}}}}}if(n){for(s=0,o=n.length;s<o;s++){i(s,n[s])}}}function b(e,t,n,s){var o;var u=e.aoData.length;var a=r.extend(true,{},i.models.oRow);a._aData=t;e.aoData.push(a);var f,l;for(var c=0,h=e.aoColumns.length;c<h;c++){o=e.aoColumns[c];N(e,u,c,T(e,u,c));if(o._bAutoType&&o.sType!="string"){var p=T(e,u,c,"type");if(p!==null&&p!==""){l=m(p);if(o.sType===null){o.sType=l}else if(o.sType!=l&&o.sType!="html"){o.sType="string"}}}}e.aiDisplayMaster.push(u);if(!e.oFeatures.bDeferRender){P(e,u,n,s)}return u}function w(e,t){if(!t instanceof r){t=r(t)}t.each(function(){var t=[],n=[],i=this.firstChild,s;while(i){s=i.nodeName.toUpperCase();if(s=="TD"||s=="TH"){t.push(r.trim(i.innerHTML));n.push(i)}i=i.nextSibling}b(e,t,this,n)})}function E(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function S(e,t,n){var r=_t(e,t);for(var i=0,s=e.aoColumns.length;i<s;i++){if(r[i]===n){return i}}return-1}function x(e,t,n,r){var i=[];for(var s=0,o=r.length;s<o;s++){i.push(T(e,t,r[s],n))}return i}function T(e,t,r,i){var s=e.aoColumns[r];var o=e.aoData[t]._aData;var u=s.fnGetData(o,i);if(u===n){if(e.iDrawError!=e.iDraw&&s.sDefaultContent===null){Dt(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t);e.iDrawError=e.iDraw}return s.sDefaultContent}if((u===o||u===null)&&s.sDefaultContent!==null){u=s.sDefaultContent}else if(typeof u==="function"){return u()}if(u===null&&i=="display"){return""}return u}function N(e,t,n,r){var i=e.aoColumns[n];var s=e.aoData[t]._aData;i.fnSetData(s,r)}function L(e){return r.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace("\\.",".")})}function A(e){if(r.isPlainObject(e)){var t={};r.each(e,function(e,n){t[e]=A(n)});return function(e,r,i){return t[t[r]!==n?r:"_"](e,r,i)}}else if(e===null){return function(e,t){return e}}else if(typeof e==="function"){return function(t,n,r){return e(t,n,r)}}else if(typeof e==="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var i=function(e,t,r){var s=L(r);var o,u,a,f;if(r!==""){for(var l=0,c=s.length;l<c;l++){o=s[l].match(C);u=s[l].match(k);if(o){s[l]=s[l].replace(C,"");if(s[l]!==""){e=e[s[l]]}a=[];s.splice(0,l+1);f=s.join(".");for(var h=0,p=e.length;h<p;h++){a.push(i(e[h],t,f))}var d=o[0].substring(1,o[0].length-1);e=d===""?a:a.join(d);break}else if(u){s[l]=s[l].replace(k,"");e=e[s[l]]();continue}if(e===null||e[s[l]]===n){return n}e=e[s[l]]}}return e};return function(t,n){return i(t,n,e)}}else{return function(t,n){return t[e]}}}function O(e){if(r.isPlainObject(e)){return O(e._)}else if(e===null){return function(e,t){}}else if(typeof e==="function"){return function(t,n){e(t,"set",n)}}else if(typeof e==="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1||e.indexOf("(")!==-1)){var t=function(e,r,i){var s=L(i),o;var u=s[s.length-1];var a,f,l,c;for(var h=0,p=s.length-1;h<p;h++){a=s[h].match(C);f=s[h].match(k);if(a){s[h]=s[h].replace(C,"");e[s[h]]=[];o=s.slice();o.splice(0,h+1);c=o.join(".");for(var d=0,v=r.length;d<v;d++){l={};t(l,r[d],c);e[s[h]].push(l)}return}else if(f){s[h]=s[h].replace(k,"");e=e[s[h]](r)}if(e[s[h]]===null||e[s[h]]===n){e[s[h]]={}}e=e[s[h]]}if(u.match(k)){e=e[u.replace(k,"")](r)}else{e[u.replace(C,"")]=r}};return function(n,r){return t(n,r,e)}}else{return function(t,n){t[e]=n}}}function M(e){var t=[];var n=e.aoData.length;for(var r=0;r<n;r++){t.push(e.aoData[r]._aData)}return t}function _(e){e.aoData.splice(0,e.aoData.length);e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length);e.aiDisplay.splice(0,e.aiDisplay.length);lt(e)}function D(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++){if(e[r]==t){n=r}else if(e[r]>t){e[r]--}}if(n!=-1){e.splice(n,1)}}function P(e,n,r,i){var s=e.aoData[n],o=s._aData,u,a,f,l,c;if(s.nTr===null){u=r||t.createElement("tr");u._DT_RowIndex=n;if(o.DT_RowId){u.id=o.DT_RowId}if(o.DT_RowClass){u.className+=" "+o.DT_RowClass}for(l=0,c=e.aoColumns.length;l<c;l++){f=e.aoColumns[l];a=r?i[l]:t.createElement(f.sCellType);if(!r||f.mRender||f.mData!==l){a.innerHTML=T(e,n,l,"display")}if(f.sClass!==null){a.className+=" "+f.sClass}s._anHidden[l]=f.bVisible?null:a;if(f.bVisible&&!r){u.appendChild(a)}else if(!f.bVisible&&r){a.parentNode.removeChild(a)}if(f.fnCreatedCell){f.fnCreatedCell.call(e.oInstance,a,T(e,n,l,"display"),o,n,l)}}s.nTr=u;Ft(e,"aoRowCreatedCallback",null,[u,o,n])}}function H(e){var n,i,s,o,u;var a=r("th, td",e.nTHead).length;var f=0;var l;if(a!==0){for(n=0,s=e.aoColumns.length;n<s;n++){i=e.aoColumns[n].nTh;i.setAttribute("role","columnheader");if(e.aoColumns[n].bSortable){i.setAttribute("tabindex",e.iTabIndex);i.setAttribute("aria-controls",e.sTableId)}if(e.aoColumns[n].sClass!==null){r(i).addClass(e.aoColumns[n].sClass)}if(e.aoColumns[n].sTitle!=i.innerHTML){i.innerHTML=e.aoColumns[n].sTitle}}}else{var c=t.createElement("tr");for(n=0,s=e.aoColumns.length;n<s;n++){i=e.aoColumns[n].nTh;i.innerHTML=e.aoColumns[n].sTitle;i.setAttribute("tabindex","0");if(e.aoColumns[n].sClass!==null){r(i).addClass(e.aoColumns[n].sClass)}c.appendChild(i)}r(e.nTHead).html("")[0].appendChild(c);q(e.aoHeader,e.nTHead)}r(e.nTHead).children("tr").attr("role","row");if(e.bJUI){for(n=0,s=e.aoColumns.length;n<s;n++){i=e.aoColumns[n].nTh;var h=t.createElement("div");h.className=e.oClasses.sSortJUIWrapper;r(i).contents().appendTo(h);var p=t.createElement("span");p.className=e.oClasses.sSortIcon;h.appendChild(p);i.appendChild(h)}}if(e.oFeatures.bSort){for(n=0;n<e.aoColumns.length;n++){if(e.aoColumns[n].bSortable!==false){Ct(e,e.aoColumns[n].nTh,n)}else{r(e.aoColumns[n].nTh).addClass(e.oClasses.sSortableNone)}}}if(e.oClasses.sFooterTH!==""){r(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH)}if(e.nTFoot!==null){var d=R(e,null,e.aoFooter);for(n=0,s=e.aoColumns.length;n<s;n++){if(d[n]){e.aoColumns[n].nTf=d[n];if(e.aoColumns[n].sClass){r(d[n]).addClass(e.aoColumns[n].sClass)}}}}}function B(e,t,r){var i,s,o,u,a,f,l,c;var h=[];var p=[];var d=e.aoColumns.length;var v,m;if(r===n){r=false}for(i=0,s=t.length;i<s;i++){h[i]=t[i].slice();h[i].nTr=t[i].nTr;for(o=d-1;o>=0;o--){if(!e.aoColumns[o].bVisible&&!r){h[i].splice(o,1)}}p.push([])}for(i=0,s=h.length;i<s;i++){c=h[i].nTr;if(c){while(l=c.firstChild){c.removeChild(l)}}for(o=0,u=h[i].length;o<u;o++){v=1;m=1;if(p[i][o]===n){c.appendChild(h[i][o].cell);p[i][o]=1;while(h[i+v]!==n&&h[i][o].cell==h[i+v][o].cell){p[i+v][o]=1;v++}while(h[i][o+m]!==n&&h[i][o].cell==h[i][o+m].cell){for(a=0;a<v;a++){p[i+a][o+m]=1}m++}h[i][o].cell.rowSpan=v;h[i][o].cell.colSpan=m}}}}function j(e){var i=Ft(e,"aoPreDrawCallback","preDraw",[e]);if(r.inArray(false,i)!==-1){dt(e,false);return}var s,o,u;var a=[];var f=0;var l=e.asStripeClasses.length;var c=e.aoOpenRows.length;e.bDrawing=true;if(e.iInitDisplayStart!==n&&e.iInitDisplayStart!=-1){if(e.oFeatures.bServerSide){e._iDisplayStart=e.iInitDisplayStart}else{e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart}e.iInitDisplayStart=-1;lt(e)}if(e.bDeferLoading){e.bDeferLoading=false;e.iDraw++}else if(!e.oFeatures.bServerSide){e.iDraw++}else if(!e.bDestroying&&!z(e)){return}if(e.aiDisplay.length!==0){var h=e._iDisplayStart;var p=e._iDisplayEnd;if(e.oFeatures.bServerSide){h=0;p=e.aoData.length}for(var v=h;v<p;v++){var m=e.aoData[e.aiDisplay[v]];if(m.nTr===null){P(e,e.aiDisplay[v])}var g=m.nTr;if(l!==0){var y=e.asStripeClasses[f%l];if(m._sRowStripe!=y){r(g).removeClass(m._sRowStripe).addClass(y);m._sRowStripe=y}}Ft(e,"aoRowCallback",null,[g,e.aoData[e.aiDisplay[v]]._aData,f,v]);a.push(g);f++;for(var b=0;b<c;b++){if(g==e.aoOpenRows[b].nParent){a.push(e.aoOpenRows[b].nTr);break}}}}else{a[0]=t.createElement("tr");if(e.asStripeClasses[0]){a[0].className=e.asStripeClasses[0]}var w=e.oLanguage;var E=w.sZeroRecords;if(e.iDraw==1&&e.sAjaxSource!==null&&!e.oFeatures.bServerSide){E=w.sLoadingRecords}else if(w.sEmptyTable&&e.fnRecordsTotal()===0){E=w.sEmptyTable}var S=t.createElement("td");S.setAttribute("valign","top");S.colSpan=d(e);S.className=e.oClasses.sRowEmpty;S.innerHTML=st(e,E);a[f].appendChild(S)}Ft(e,"aoHeaderCallback","header",[r(e.nTHead).children("tr")[0],M(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);Ft(e,"aoFooterCallback","footer",[r(e.nTFoot).children("tr")[0],M(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);var x=t.createDocumentFragment(),T=t.createDocumentFragment(),N;if(e.nTBody){N=e.nTBody.parentNode;T.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered){while(u=e.nTBody.firstChild){e.nTBody.removeChild(u)}}for(s=0,o=a.length;s<o;s++){x.appendChild(a[s])}e.nTBody.appendChild(x);if(N!==null){N.appendChild(e.nTBody)}}Ft(e,"aoDrawCallback","draw",[e]);e.bSorted=false;e.bFiltered=false;e.bDrawing=false}function F(e,t){var n=e.oFeatures,r=n.bSort,i=n.bFilter;if(r){Nt(e)}if(i){J(e,e.oPreviousSearch)}else{e.aiDisplay=e.aiDisplayMaster.slice()}if(t!==true){e._iDisplayStart=0}lt(e);j(e)}function I(e){var t=r("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable);e.nTableWrapper=r('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0];e.nTableReinsertBefore=e.nTable.nextSibling;var n=e.nTableWrapper;var s=e.sDom.split("");var o,u,a,f,l,c,h;for(var p=0;p<s.length;p++){u=0;a=s[p];if(a=="<"){f=r("<div></div>")[0];l=s[p+1];if(l=="'"||l=='"'){c="";h=2;while(s[p+h]!=l){c+=s[p+h];h++}if(c=="H"){c=e.oClasses.sJUIHeader}else if(c=="F"){c=e.oClasses.sJUIFooter}if(c.indexOf(".")!=-1){var d=c.split(".");f.id=d[0].substr(1,d[0].length-1);f.className=d[1]}else if(c.charAt(0)=="#"){f.id=c.substr(1,c.length-1)}else{f.className=c}p+=h}n.appendChild(f);n=f}else if(a==">"){n=n.parentNode}else if(a=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange){o=ft(e);u=1}else if(a=="f"&&e.oFeatures.bFilter){o=$(e);u=1}else if(a=="r"&&e.oFeatures.bProcessing){o=pt(e);u=1}else if(a=="t"){o=vt(e);u=1}else if(a=="i"&&e.oFeatures.bInfo){o=rt(e);u=1}else if(a=="p"&&e.oFeatures.bPaginate){o=ct(e);u=1}else if(i.ext.aoFeatures.length!==0){var v=i.ext.aoFeatures;for(var m=0,g=v.length;m<g;m++){if(a==v[m].cFeature){o=v[m].fnInit(e);if(o){u=1}break}}}if(u==1&&o!==null){if(typeof e.aanFeatures[a]!=="object"){e.aanFeatures[a]=[]}e.aanFeatures[a].push(o);n.appendChild(o)}}t.parentNode.replaceChild(e.nTableWrapper,t)}function q(e,t){var n=r(t).children("tr");var i,s;var o,u,a,f,l,c,h,p,d;var v;var m=function(e,t,n){var r=e[t];while(r[n]){n++}return n};e.splice(0,e.length);for(o=0,f=n.length;o<f;o++){e.push([])}for(o=0,f=n.length;o<f;o++){i=n[o];h=0;s=i.firstChild;while(s){if(s.nodeName.toUpperCase()=="TD"||s.nodeName.toUpperCase()=="TH"){p=s.getAttribute("colspan")*1;d=s.getAttribute("rowspan")*1;p=!p||p===0||p===1?1:p;d=!d||d===0||d===1?1:d;c=m(e,o,h);v=p===1?true:false;for(a=0;a<p;a++){for(u=0;u<d;u++){e[o+u][c+a]={cell:s,unique:v};e[o+u].nTr=i}}}s=s.nextSibling}}}function R(e,t,n){var r=[];if(!n){n=e.aoHeader;if(t){n=[];q(n,t)}}for(var i=0,s=n.length;i<s;i++){for(var o=0,u=n[i].length;o<u;o++){if(n[i][o].unique&&(!r[o]||!e.bSortCellsTop)){r[o]=n[i][o].cell}}}return r}function U(e,t,n){Ft(e,"aoServerParams","serverParams",[t]);var i;if(r.isPlainObject(e.ajax)&&e.ajax.data){i=e.ajax.data;var s=r.isFunction(i)?i(t):i;if(r.isArray(s)){t=t.concat(s)}else if(r.isPlainObject(s)){var o={};r.each(t,function(e,t){o[t.name]=t.value});t=r.extend(true,o,s)}delete e.ajax.data}var u={data:t,success:function(t){if(t.sError){e.oApi._fnLog(e,0,t.sError)}r(e.oInstance).trigger("xhr",[e,t]);n(t)},dataType:"json",cache:false,type:e.sServerMethod,error:function(t,n,r){if(n=="parsererror"){e.oApi._fnLog(e,0,"DataTables: invalid JSON response")}}};if(e.fnServerData){e.fnServerData.call(e.oInstance,e.sAjaxSource,t,n,e)}else if(e.sAjaxSource||typeof e.ajax==="string"){e.jqXHR=r.ajax(r.extend(u,{url:e.ajax||e.sAjaxSource}))}else if(r.isFunction(e.ajax)){e.jqXHR=e.ajax.call(e.oInstance,t,n,e)}else{e.jqXHR=r.ajax(r.extend(u,e.ajax));e.ajax.data=i}}function z(e){if(e.bAjaxDataGet){e.iDraw++;dt(e,true);var t=e.aoColumns.length;var n=W(e);U(e,n,function(t){X(e,t)},e);return false}return true}function W(e){var t=e.aoColumns;var n=t.length;var r=[],i,s,o;var u,a;var f=function(e,t){r.push({name:e,value:t})};f("sEcho",e.iDraw);f("iColumns",n);f("sColumns",g(e));f("iDisplayStart",e._iDisplayStart);f("iDisplayLength",e.oFeatures.bPaginate!==false?e._iDisplayLength:-1);for(u=0;u<n;u++){i=t[u].mData;f("mDataProp_"+u,typeof i==="function"?"function":i)}if(e.oFeatures.bFilter!==false){f("sSearch",e.oPreviousSearch.sSearch);f("bRegex",e.oPreviousSearch.bRegex);for(u=0;u<n;u++){f("sSearch_"+u,e.aoPreSearchCols[u].sSearch);f("bRegex_"+u,e.aoPreSearchCols[u].bRegex);f("bSearchable_"+u,t[u].bSearchable)}}if(e.oFeatures.bSort!==false){var l=0;s=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(u=0;u<s.length;u++){o=t[s[u][0]].aDataSort;for(a=0;a<o.length;a++){f("iSortCol_"+l,o[a]);f("sSortDir_"+l,s[u][1]);l++}}f("iSortingCols",l);for(u=0;u<n;u++){f("bSortable_"+u,t[u].bSortable)}}return r}function X(e,t){if(t.sEcho!==n){if(t.sEcho*1<e.iDraw){return}e.iDraw=t.sEcho*1}if(!e.oScroll.bInfinite||e.bSorted||e.bFiltered){_(e)}e._iRecordsTotal=parseInt(t.iTotalRecords,10);e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var r=V(e,t);for(var i=0,s=r.length;i<s;i++){b(e,r[i])}e.aiDisplay=e.aiDisplayMaster.slice();e.bAjaxDataGet=false;j(e);if(!e._bInitComplete){ut(e,t)}e.bAjaxDataGet=true;dt(e,false)}function V(e,t){var i=r.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return i!==""?A(i)(t):t}function $(e){var n=e.oPreviousSearch;var i=e.oLanguage.sSearch;i=i.indexOf("_INPUT_")!==-1?i.replace("_INPUT_",'<input type="search" />'):i===""?'<input type="search" />':i+' <input type="search" />';var s=t.createElement("div");s.className=e.oClasses.sFilter;s.innerHTML="<label>"+i+"</label>";if(!e.aanFeatures.f){s.id=e.sTableId+"_filter"}var o=r('input[type="search"]',s);s._DT_Input=o[0];o.val(n.sSearch.replace('"',"""));o.bind("keyup.DT search.DT",function(t){var i=e.aanFeatures.f;var s=this.value===""?"":this.value;for(var o=0,u=i.length;o<u;o++){if(i[o]!=r(this).parents("div.dataTables_filter")[0]){r(i[o]._DT_Input).val(s)}}if(s!=n.sSearch){J(e,{sSearch:s,bRegex:n.bRegex,bSmart:n.bSmart,bCaseInsensitive:n.bCaseInsensitive});e._iDisplayStart=0;lt(e);j(e)}});o.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13){return false}});return s}function J(e,t,n){var i=e.oPreviousSearch;var s=e.aoPreSearchCols;var o=function(e){i.sSearch=e.sSearch;i.bRegex=e.bRegex;i.bSmart=e.bSmart;i.bCaseInsensitive=e.bCaseInsensitive};if(!e.oFeatures.bServerSide){G(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive);o(t);for(var u=0;u<e.aoPreSearchCols.length;u++){Q(e,s[u].sSearch,u,s[u].bRegex,s[u].bSmart,s[u].bCaseInsensitive)}K(e)}else{o(t)}e.bFiltered=true;r(e.oInstance).trigger("filter",e);Y(e,0)}function K(e){var t=i.ext.afnFiltering;var n=v(e,"bSearchable");for(var r=0,s=t.length;r<s;r++){var o=0;for(var u=0,a=e.aiDisplay.length;u<a;u++){var f=e.aiDisplay[u-o];var l=t[r](e,x(e,f,"filter",n),f);if(!l){e.aiDisplay.splice(u-o,1);o++}}}}function Q(e,t,n,r,i,s){if(t===""){return}var o=0;var u=et(t,r,i,s);for(var a=e.aiDisplay.length-1;a>=0;a--){var f=tt(T(e,e.aiDisplay[a],n,"filter"),e.aoColumns[n].sType);if(!u.test(f)){e.aiDisplay.splice(a,1);o++}}}function G(e,t,n,r,s,o){var u;var a=et(t,r,s,o);var f=e.oPreviousSearch;if(!n){n=0}if(i.ext.afnFiltering.length!==0){n=1}if(t.length<=0){e.aiDisplay.splice(0,e.aiDisplay.length);e.aiDisplay=e.aiDisplayMaster.slice()}else{if(e.aiDisplay.length==e.aiDisplayMaster.length||f.sSearch.length>t.length||n==1||t.indexOf(f.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length);Y(e,1);for(u=0;u<e.aiDisplayMaster.length;u++){if(a.test(e.asDataSearch[u])){e.aiDisplay.push(e.aiDisplayMaster[u])}}}else{var l=0;for(u=0;u<e.asDataSearch.length;u++){if(!a.test(e.asDataSearch[u])){e.aiDisplay.splice(u-l,1);l++}}}}}function Y(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];var n=v(e,"bSearchable");var r=t===1?e.aiDisplayMaster:e.aiDisplay;for(var i=0,s=r.length;i<s;i++){e.asDataSearch[i]=Z(e,x(e,r[i],"filter",n))}}}function Z(e,t){var n=0,i=e.aoColumns;for(var s=0,o=i.length;s<o;s++){t[n]=tt(t[n],i[s].sType);if(i[s].bSearchable){n++}}var u=t.join("  ");if(u.indexOf("&")!==-1){u=r("<div>").html(u).text()}return u.replace(/[\n\r]/g," ")}function et(e,t,n,r){var i,s=t?e:nt(e);if(n){i=s.split(" ");s="^(?=.*?"+i.join(")(?=.*?")+").*$"}return new RegExp(s,r?"i":"")}function tt(e,t){if(typeof i.ext.ofnSearch[t]==="function"){return i.ext.ofnSearch[t](e)}else if(e===null){return""}else if(t=="html"){return e.replace(/[\r\n]/g," ").replace(/<.*?>/g,"")}else if(typeof e==="string"){return e.replace(/[\r\n]/g," ")}return e}function nt(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"];var n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function rt(e){var n=t.createElement("div");n.className=e.oClasses.sInfo;if(!e.aanFeatures.i){e.aoDrawCallback.push({fn:it,sName:"information"});n.id=e.sTableId+"_info"}e.nTable.setAttribute("aria-describedby",e.sTableId+"_info");return n}function it(e){if(!e.oFeatures.bInfo||e.aanFeatures.i.length===0){return}var t=e.oLanguage,n=e._iDisplayStart+1,i=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),u;if(o===0){u=t.sInfoEmpty}else{u=t.sInfo}if(o!=s){u+=" "+t.sInfoFiltered}u+=t.sInfoPostFix;u=st(e,u);if(t.fnInfoCallback!==null){u=t.fnInfoCallback.call(e.oInstance,e,n,i,s,o,u)}var a=e.aanFeatures.i;for(var f=0,l=a.length;f<l;f++){r(a[f]).html(u)}}function st(e,t){var n=e.oScroll.bInfinite?1:e._iDisplayStart+1,r=e.fnFormatNumber(n),i=e.fnDisplayEnd(),s=e.fnFormatNumber(i),o=e.fnRecordsDisplay(),u=e.fnFormatNumber(o),a=e.fnRecordsTotal(),f=e.fnFormatNumber(a);return t.replace(/_START_/g,r).replace(/_END_/g,s).replace(/_TOTAL_/g,u).replace(/_MAX_/g,f)}function ot(e){var t,n,r=e.iInitDisplayStart;if(e.bInitialised===false){setTimeout(function(){ot(e)},200);return}I(e);H(e);B(e,e.aoHeader);if(e.nTFoot){B(e,e.aoFooter)}dt(e,true);if(e.oFeatures.bAutoWidth){bt(e)}for(t=0,n=e.aoColumns.length;t<n;t++){if(e.aoColumns[t].sWidth!==null){e.aoColumns[t].nTh.style.width=xt(e.aoColumns[t].sWidth)}}F(e);if((e.sAjaxSource||e.ajax)&&!e.oFeatures.bServerSide){var i=[];U(e,[],function(n){var i=V(e,n);for(t=0;t<i.length;t++){b(e,i[t])}e.iInitDisplayStart=r;F(e);dt(e,false);ut(e,n)},e);return}if(!e.oFeatures.bServerSide){dt(e,false);ut(e)}}function ut(e,t){e._bInitComplete=true;Ft(e,"aoInitComplete","init",[e,t])}function at(e,t){var n=e._iDisplayStart,i=e.fnRecordsDisplay(),s,o=parseInt(t,10);e._iDisplayLength=o;lt(e);s=e.fnDisplayEnd();if(s===i){n=s-o}if(o===-1||n<0){n=0}e._iDisplayStart=n;r(e.oInstance).trigger("length",[e,o])}function ft(e){if(e.oScroll.bInfinite){return null}var t=e.sTableId,n=e.aLengthMenu,i=r.isArray(n[0]),s=i?n[0]:n,o=i?n[1]:n;var u=r("<select/>",{name:t+"_length","aria-controls":t});for(var a=0,f=s.length;a<f;a++){u[0][a]=new Option(o[a],s[a])}var l=r("<div><label/></div>").addClass(e.oClasses.sLength);if(!e.aanFeatures.l){l[0].id=t+"_length"}var c=e.oLanguage.sLengthMenu.split(/(_MENU_)/);l.children().append(c[0]).append(u).append(c[2]);u.val(e._iDisplayLength).bind("change.DT",function(t){at(e,r(this).val());j(e)});r(e.nTable).bind("length",function(e,t,n){u.val(n)});return l[0]}function lt(e){var t=e._iDisplayLength,n=e._iDisplayStart+t,r=e.aiDisplay.length;e._iDisplayEnd=!e.oFeatures.bPaginate||n>r||t===-1?r:n}function ct(e){if(e.oScroll.bInfinite){return null}var t=e.sPaginationType,n=i.ext.oPagination[t],s=function(e){lt(e);j(e)},o=r("<div/>").addClass(e.oClasses.sPaging+t)[0];n.fnInit(e,o,s);if(!e.aanFeatures.p){e.aoDrawCallback.push({fn:function(e){n.fnUpdate(e,s)},sName:"pagination"})}return o}function ht(e,t){var n=e._iDisplayStart,i=e._iDisplayLength,s=e.fnRecordsDisplay();if(s===0||i===-1){n=0}else if(typeof t==="number"){n=t*i;if(n>s){n=0}}else if(t=="first"){n=0}else if(t=="previous"){n=i>=0?n-i:0;if(n<0){n=0}}else if(t=="next"){if(n+i<s){n+=i}}else if(t=="last"){n=Math.floor((s-1)/i)*i}else{Dt(e,0,"Unknown paging action: "+t)}var o=e._iDisplayStart!==n;e._iDisplayStart=n;r(e.oInstance).trigger("page",e);return o}function pt(e){var n=t.createElement("div");if(!e.aanFeatures.r){n.id=e.sTableId+"_processing"}n.innerHTML=e.oLanguage.sProcessing;n.className=e.oClasses.sProcessing;e.nTable.parentNode.insertBefore(n,e.nTable);return n}function dt(e,t){if(e.oFeatures.bProcessing){var n=e.aanFeatures.r;for(var i=0,s=n.length;i<s;i++){n[i].style.visibility=t?"visible":"hidden"}}r(e.oInstance).trigger("processing",[e,t])}function vt(e){if(e.oScroll.sX===""&&e.oScroll.sY===""){return e.nTable}var n=t.createElement("div"),i=t.createElement("div"),s=t.createElement("div"),o=t.createElement("div"),u=t.createElement("div"),a=t.createElement("div"),f=e.nTable.cloneNode(false),l=e.nTable.cloneNode(false),c=e.nTable.getElementsByTagName("thead")[0],h=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;i.appendChild(s);u.appendChild(a);o.appendChild(e.nTable);n.appendChild(i);n.appendChild(o);s.appendChild(f);f.appendChild(c);if(h!==null){n.appendChild(u);a.appendChild(l);l.appendChild(h)}n.className=p.sScrollWrapper;i.className=p.sScrollHead;s.className=p.sScrollHeadInner;o.className=p.sScrollBody;u.className=p.sScrollFoot;a.className=p.sScrollFootInner;if(e.oScroll.bAutoCss){i.style.overflow="hidden";i.style.position="relative";u.style.overflow="hidden";o.style.overflow="auto"}i.style.border="0";i.style.width="100%";u.style.border="0";s.style.width=e.oScroll.sXInner!==""?e.oScroll.sXInner:"100%";f.removeAttribute("id");f.style.marginLeft="0";e.nTable.style.marginLeft="0";if(h!==null){l.removeAttribute("id");l.style.marginLeft="0"}var d=r(e.nTable).children("caption");if(d.length>0){d=d[0];if(d._captionSide==="top"){f.appendChild(d)}else if(d._captionSide==="bottom"&&h){l.appendChild(d)}}if(e.oScroll.sX!==""){i.style.width=xt(e.oScroll.sX);o.style.width=xt(e.oScroll.sX);if(h!==null){u.style.width=xt(e.oScroll.sX)}r(o).scroll(function(e){i.scrollLeft=this.scrollLeft;if(h!==null){u.scrollLeft=this.scrollLeft}})}if(e.oScroll.sY!==""){o.style.height=xt(e.oScroll.sY)}e.aoDrawCallback.push({fn:mt,sName:"scrolling"});if(e.oScroll.bInfinite){r(o).scroll(function(){if(!e.bDrawing&&r(this).scrollTop()!==0){if(r(this).scrollTop()+r(this).height()>r(e.nTable).height()-e.oScroll.iLoadGap){if(e.fnDisplayEnd()<e.fnRecordsDisplay()){ht(e,"next");lt(e);j(e)}}}})}e.nScrollHead=i;e.nScrollFoot=u;return n}function mt(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],i=e.nTable.parentNode,s,o,u,a,f,l,c,p,d,v,m,g,y,b=[],w=[],E,S=e.nTFoot!==null?e.nScrollFoot.getElementsByTagName("div")[0]:null,x=e.nTFoot!==null?S.getElementsByTagName("table")[0]:null,T=e.oBrowser.bScrollOversize,N=function(e){d=e.style;d.paddingTop="0";d.paddingBottom="0";d.borderTopWidth="0";d.borderBottomWidth="0";d.height=0};r(e.nTable).children("thead, tfoot").remove();m=r(e.nTHead).clone()[0];e.nTable.insertBefore(m,e.nTable.childNodes[0]);f=e.nTHead.getElementsByTagName("tr");l=m.getElementsByTagName("tr");r("th, td",m).removeAttr("tabindex");if(e.nTFoot!==null){g=r(e.nTFoot).clone()[0];e.nTable.insertBefore(g,e.nTable.childNodes[1]);p=e.nTFoot.getElementsByTagName("tr");c=g.getElementsByTagName("tr")}if(e.oScroll.sX===""){i.style.width="100%";t.parentNode.style.width="100%"}var C=R(e,m);for(s=0,o=C.length;s<o;s++){v=h(e,s);C[s].style.width=e.aoColumns[v].sWidth}if(e.nTFoot!==null){gt(function(e){e.style.width=""},c)}if(e.oScroll.bCollapse&&e.oScroll.sY!==""){i.style.height=i.offsetHeight+e.nTHead.offsetHeight+"px"}E=r(e.nTable).outerWidth();if(e.oScroll.sX===""){e.nTable.style.width="100%";if(T&&(r("tbody",i).height()>i.offsetHeight||r(i).css("overflow-y")=="scroll")){e.nTable.style.width=xt(r(e.nTable).outerWidth()-e.oScroll.iBarWidth)}}else{if(e.oScroll.sXInner!==""){e.nTable.style.width=xt(e.oScroll.sXInner)}else if(E==r(i).width()&&r(i).height()<r(e.nTable).height()){e.nTable.style.width=xt(E-e.oScroll.iBarWidth);if(r(e.nTable).outerWidth()>E-e.oScroll.iBarWidth){e.nTable.style.width=xt(E)}}else{e.nTable.style.width=xt(E)}}E=r(e.nTable).outerWidth();gt(N,l);gt(function(e){b.push(xt(r(e).width()))},l);gt(function(e,t){e.style.width=b[t]},f);r(l).height(0);if(e.nTFoot!==null){gt(N,c);gt(function(e){w.push(xt(r(e).width()))},c);gt(function(e,t){e.style.width=w[t]},p);r(c).height(0)}gt(function(e,t){e.innerHTML="";e.style.width=b[t]},l);if(e.nTFoot!==null){gt(function(e,t){e.innerHTML="";e.style.width=w[t]},c)}if(r(e.nTable).outerWidth()<E){var k=i.scrollHeight>i.offsetHeight||r(i).css("overflow-y")=="scroll"?E+e.oScroll.iBarWidth:E;if(T&&(i.scrollHeight>i.offsetHeight||r(i).css("overflow-y")=="scroll")){e.nTable.style.width=xt(k-e.oScroll.iBarWidth)}i.style.width=xt(k);e.nScrollHead.style.width=xt(k);if(e.nTFoot!==null){e.nScrollFoot.style.width=xt(k)}if(e.oScroll.sX===""){Dt(e,1,"The table cannot fit into the current element which will cause column"+" misalignment. The table has been drawn at its minimum possible width.")}else if(e.oScroll.sXInner!==""){Dt(e,1,"The table cannot fit into the current element which will cause column"+" misalignment. Increase the sScrollXInner value or remove it to allow automatic"+" calculation")}}else{i.style.width=xt("100%");e.nScrollHead.style.width=xt("100%");if(e.nTFoot!==null){e.nScrollFoot.style.width=xt("100%")}}if(e.oScroll.sY===""){if(T){i.style.height=xt(e.nTable.offsetHeight+e.oScroll.iBarWidth)}}if(e.oScroll.sY!==""&&e.oScroll.bCollapse){i.style.height=xt(e.oScroll.sY);var L=e.oScroll.sX!==""&&e.nTable.offsetWidth>i.offsetWidth?e.oScroll.iBarWidth:0;if(e.nTable.offsetHeight<i.offsetHeight){i.style.height=xt(e.nTable.offsetHeight+L)}}var A=r(e.nTable).outerWidth();n.style.width=xt(A);t.style.width=xt(A);var O=r(e.nTable).height()>i.clientHeight||r(i).css("overflow-y")=="scroll";var M=e.oBrowser.bScrollbarLeft?"paddingLeft":"paddingRight";t.style[M]=O?e.oScroll.iBarWidth+"px":"0px";if(e.nTFoot!==null){x.style.width=xt(A);S.style.width=xt(A);S.style[M]=O?e.oScroll.iBarWidth+"px":"0px"}r(i).scroll();if(e.bSorted||e.bFiltered){i.scrollTop=0}}function gt(e,t,n){var r=0,i=0,s=t.length;var o,u;while(i<s){o=t[i].firstChild;u=n?n[i].firstChild:null;while(o){if(o.nodeType===1){if(n){e(o,u,r)}else{e(o,r)}r++}o=o.nextSibling;u=n?u.nextSibling:null}i++}}function yt(e,n){if(!e){return 0}if(!n){n=t.body}var i=r("<div/>").css("width",xt(e)).appendTo(n);var s=i[0].offsetWidth;i.remove();return s}function bt(n){var i=n.nTable.offsetWidth;var s=0;var o;var u=0;var a=n.aoColumns.length;var f,l,c,h;var p=r("th",n.nTHead);var d=n.nTable.getAttribute("width");var v=n.nTable.parentNode;for(f=0;f<a;f++){if(n.aoColumns[f].bVisible){u++;if(n.aoColumns[f].sWidth!==null){o=yt(n.aoColumns[f].sWidthOrig,v);if(o!==null){n.aoColumns[f].sWidth=xt(o)}s++}}}if(a==p.length&&s===0&&u==a&&n.oScroll.sX===""&&n.oScroll.sY===""){for(f=0;f<n.aoColumns.length;f++){o=r(p[f]).width();if(o!==null){n.aoColumns[f].sWidth=xt(o)}}}else{var m=n.nTable.cloneNode(false),g=n.nTHead.cloneNode(true),y=t.createElement("tbody"),b=t.createElement("tr"),w;m.removeAttribute("id");m.appendChild(g);if(n.nTFoot!==null){m.appendChild(n.nTFoot.cloneNode(true));gt(function(e){e.style.width=""},m.getElementsByTagName("tr"))}m.appendChild(y);y.appendChild(b);var E=r("thead th",m);if(E.length===0){E=r("tbody tr:eq(0)>td",m)}var S=R(n,g);c=0;for(f=0;f<a;f++){var x=n.aoColumns[f];if(x.bVisible&&x.sWidthOrig!==null&&x.sWidthOrig!==""){S[f-c].style.width=xt(x.sWidthOrig)}else if(x.bVisible){S[f-c].style.width=""}else{c++}}for(f=0;f<a;f++){if(n.aoColumns[f].bVisible){var T=Et(n,f);if(T!==null){T=T.cloneNode(true);if(n.aoColumns[f].sContentPadding!==""){T.innerHTML+=n.aoColumns[f].sContentPadding}b.appendChild(T)}}}v.appendChild(m);if(n.oScroll.sX!==""&&n.oScroll.sXInner!==""){m.style.width=xt(n.oScroll.sXInner)}else if(n.oScroll.sX!==""){m.style.width="";if(r(m).width()<v.offsetWidth){m.style.width=xt(v.offsetWidth)}}else if(n.oScroll.sY!==""){m.style.width=xt(v.offsetWidth)}else if(d){m.style.width=xt(d)}m.style.visibility="hidden";wt(n,m);var N=r("tbody tr:eq(0)",m).children();if(N.length===0){N=R(n,r("thead",m)[0])}if(n.oScroll.sX!==""){var C=0;c=0;for(f=0;f<n.aoColumns.length;f++){if(n.aoColumns[f].bVisible){if(n.aoColumns[f].sWidthOrig===null){C+=r(N[c]).outerWidth()}else{C+=parseInt(n.aoColumns[f].sWidth.replace("px",""),10)+(r(N[c]).outerWidth()-r(N[c]).width())}c++}}m.style.width=xt(C);n.nTable.style.width=xt(C)}c=0;for(f=0;f<n.aoColumns.length;f++){if(n.aoColumns[f].bVisible){h=r(N[c]).width();if(h!==null&&h>0){n.aoColumns[f].sWidth=xt(h)}c++}}var k=r(m).css("width");n.nTable.style.width=k.indexOf("%")!==-1?k:xt(r(m).outerWidth());m.parentNode.removeChild(m)}if(d){n.nTable.style.width=xt(d);if(!n._attachedResizing&&(n.oScroll.sY!==""||n.oScroll.sX!=="")){r(e).bind("resize.DT-"+n.sInstance,function(){mt(n)});n._attachedResizing=true}}}function wt(e,t){if(e.oScroll.sX===""&&e.oScroll.sY!==""){var n=r(t).width();t.style.width=xt(r(t).outerWidth()-e.oScroll.iBarWidth)}else if(e.oScroll.sX!==""){t.style.width=xt(r(t).outerWidth())}}function Et(e,n){var r=St(e,n);if(r<0){return null}if(e.aoData[r].nTr===null){var i=t.createElement("td");i.innerHTML=T(e,r,n,"");return i}return _t(e,r)[n]}function St(e,t){var n=-1;var r=-1;for(var i=0;i<e.aoData.length;i++){var s=T(e,i,t,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>n){n=s.length;r=i}}return r}function xt(e){if(e===null){return"0px"}if(typeof e=="number"){if(e<0){return"0px"}return e+"px"}var t=e.charCodeAt(e.length-1);if(t<48||t>57){return e}return e+"px"}function Tt(){if(!i.__scrollbarWidth){var e=r("<p/>").css({width:"100%",height:200,padding:0})[0];var t=r("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body");var n=e.offsetWidth;t.css("overflow","scroll");var s=e.offsetWidth;if(n===s){s=t[0].clientWidth}t.remove();i.__scrollbarWidth=n-s}return i.__scrollbarWidth}function Nt(e,t){var s,o,u,a,f,l,c,h,d=[],v=[],m=i.ext.oSort,g=e.aoData,y=e.aoColumns,b=e.oLanguage.oAria,w,E,S,x,C,k,L=0,A=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(s=0;s<A.length;s++){E=y[A[s][0]].aDataSort;for(f=0,l=E.length;f<l;f++){x=E[f];C=y[x].sType||"string";w=m[C+"-pre"];d.push({col:x,dir:A[s][1],index:A[s][2],type:C,format:w});if(w){L++}}}if(!e.oFeatures.bServerSide&&d.length!==0){for(s=0;s<d.length;s++){var O=d[s].col;var M=p(e,O);c=e.aoColumns[O].sSortDataType;if(i.ext.afnSortData[c]){var _=i.ext.afnSortData[c].call(e.oInstance,e,O,M);if(_.length===g.length){for(u=0,a=g.length;u<a;u++){N(e,u,O,_[u])}}else{Dt(e,0,"Returned data sort array (col "+O+") is the wrong length")}}}for(s=0,o=e.aiDisplayMaster.length;s<o;s++){v[e.aiDisplayMaster[s]]=s}for(u=0;u<d.length;u++){k=d[u];for(s=0,o=g.length;s<o;s++){S=T(e,s,k.col,"sort");g[s]._aSortData[k.col]=k.format?k.format(S):S}}if(L===d.length){e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o,u=d.length,a=g[e]._aSortData,f=g[t]._aSortData;for(i=0;i<u;i++){o=d[i];n=a[o.col];r=f[o.col];s=n<r?-1:n>r?1:0;if(s!==0){return o.dir==="asc"?s:-s}}n=v[e];r=v[t];return n<r?-1:n>r?1:0})}else{e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o,u,a=d.length,f=g[e]._aSortData,l=g[t]._aSortData;for(i=0;i<a;i++){u=d[i];n=f[u.col];r=l[u.col];o=m[u.type+"-"+u.dir](n,r);if(o!==0){return o}}n=v[e];r=v[t];return n<r?-1:n>r?1:0})}}if((t===n||t)&&!e.oFeatures.bDeferRender){kt(e)}for(s=0,o=e.aoColumns.length;s<o;s++){var D=y[s].sTitle.replace(/<.*?>/g,"");h=y[s].nTh;h.removeAttribute("aria-sort");h.removeAttribute("aria-label");if(y[s].bSortable){if(d.length>0&&d[0].col==s){h.setAttribute("aria-sort",d[0].dir=="asc"?"ascending":"descending");var P=y[s].asSorting[d[0].index+1]?y[s].asSorting[d[0].index+1]:y[s].asSorting[0];h.setAttribute("aria-label",D+(P=="asc"?b.sSortAscending:b.sSortDescending))}else{h.setAttribute("aria-label",D+(y[s].asSorting[0]=="asc"?b.sSortAscending:b.sSortDescending))}}else{h.setAttribute("aria-label",D)}}e.bSorted=true;r(e.oInstance).trigger("sort",e)}function Ct(e,t,n,r){Bt(t,{},function(t){if(e.aoColumns[n].bSortable===false){return}var i=function(){var r,i;if(t.shiftKey){var s=false;for(var o=0;o<e.aaSorting.length;o++){if(e.aaSorting[o][0]==n){s=true;r=e.aaSorting[o][0];i=e.aaSorting[o][2]+1;if(!e.aoColumns[r].asSorting[i]){e.aaSorting.splice(o,1)}else{e.aaSorting[o][1]=e.aoColumns[r].asSorting[i];e.aaSorting[o][2]=i}break}}if(s===false){e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}}else{if(e.aaSorting.length==1&&e.aaSorting[0][0]==n){r=e.aaSorting[0][0];i=e.aaSorting[0][2]+1;if(!e.aoColumns[r].asSorting[i]){i=0}e.aaSorting[0][1]=e.aoColumns[r].asSorting[i];e.aaSorting[0][2]=i}else{e.aaSorting.splice(0,e.aaSorting.length);e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}}F(e)};if(!e.oFeatures.bProcessing){i()}else{dt(e,true);setTimeout(function(){i();if(!e.oFeatures.bServerSide){dt(e,false)}},0)}if(typeof r=="function"){r(e)}})}function kt(e){var t,n,i,s,o;var u,a;var f=e.aoColumns.length;var l=e.oClasses;for(t=0;t<f;t++){if(e.aoColumns[t].bSortable){r(e.aoColumns[t].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+e.aoColumns[t].sSortingClass)}}if(e.aaSortingFixed!==null){u=e.aaSortingFixed.concat(e.aaSorting)}else{u=e.aaSorting.slice()}for(t=0;t<e.aoColumns.length;t++){if(e.aoColumns[t].bSortable){a=e.aoColumns[t].sSortingClass;o=-1;for(i=0;i<u.length;i++){if(u[i][0]==t){a=u[i][1]=="asc"?l.sSortAsc:l.sSortDesc;o=i;break}}r(e.aoColumns[t].nTh).addClass(a);if(e.bJUI){var c=r("span."+l.sSortIcon,e.aoColumns[t].nTh);c.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed);var h;if(o==-1){h=e.aoColumns[t].sSortingClassJUI}else if(u[o][1]=="asc"){h=l.sSortJUIAsc}else{h=l.sSortJUIDesc}c.addClass(h)}}else{r(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass)}}a=l.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){var p=_t(e);var d,v;var m=[];for(t=0;t<f;t++){m.push("")}for(t=0,d=1;t<u.length;t++){v=parseInt(u[t][0],10);m[v]=a+d;if(d<3){d++}}var g=new RegExp(a+"[123]");var y,b,w;for(t=0,n=p.length;t<n;t++){v=t%f;b=p[t].className;w=m[v];y=b.replace(g,w);if(y!=b){p[t].className=r.trim(y)}else if(w.length>0&&b.indexOf(w)==-1){p[t].className=b+" "+w}}}}function Lt(e){if(!e.oFeatures.bStateSave||e.bDestroying){return}var t,n,i=e.oScroll.bInfinite;var s={iCreate:(new Date).getTime(),iStart:i?0:e._iDisplayStart,iEnd:i?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:r.extend(true,[],e.aaSorting),oSearch:r.extend(true,{},e.oPreviousSearch),aoSearchCols:r.extend(true,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;t<n;t++){s.abVisCols.push(e.aoColumns[t].bVisible)}Ft(e,"aoStateSaveParams","stateSaveParams",[e,s]);e.fnStateSaveCallback.call(e.oInstance,e,s)}function At(e,t){if(!e.oFeatures.bStateSave){return}var n=e.fnStateLoadCallback.call(e.oInstance,e);if(!n){return}var i=Ft(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(r.inArray(false,i)!==-1){return}if(n.iCreate<(new Date).getTime()-e.iStateDuration*1e3){return}e.oLoadedState=r.extend(true,{},n);e._iDisplayStart=n.iStart;e.iInitDisplayStart=n.iStart;e._iDisplayEnd=n.iEnd;e._iDisplayLength=n.iLength;e.aaSorting=n.aaSorting.slice();e.saved_aaSorting=n.aaSorting.slice();r.extend(e.oPreviousSearch,n.oSearch);r.extend(true,e.aoPreSearchCols,n.aoSearchCols);t.saved_aoColumns=[];for(var s=0;s<n.abVisCols.length;s++){t.saved_aoColumns[s]={};t.saved_aoColumns[s].bVisible=n.abVisCols[s]}Ft(e,"aoStateLoaded","stateLoaded",[e,n])}function Ot(e){for(var t=0;t<i.settings.length;t++){if(i.settings[t].nTable===e){return i.settings[t]}}return null}function Mt(e){var t=[];var n=e.aoData;for(var r=0,i=n.length;r<i;r++){if(n[r].nTr!==null){t.push(n[r].nTr)}}return t}function _t(e,t){var r=[];var i;var s,o;var u,a=e.aoData.length,f,l,c,h,p=0,d=a;if(t!==n){p=t;d=t+1}for(u=p;u<d;u++){c=e.aoData[u];if(c.nTr!==null){s=[];o=c.nTr.firstChild;while(o){h=o.nodeName.toLowerCase();if(h=="td"||h=="th"){s.push(o)}o=o.nextSibling}i=0;for(f=0,l=e.aoColumns.length;f<l;f++){if(e.aoColumns[f].bVisible){r.push(s[f-i])}else{r.push(c._anHidden[f]);i++}}}}return r}function Dt(t,n,r){var s=t===null?"DataTables warning: "+r:"DataTables warning (table id = '"+t.sTableId+"'): "+r;if(n===0){if(i.ext.sErrMode=="alert"){alert(s)}else{throw new Error(s)}return}else if(e.console&&console.log){console.log(s)}}function Pt(e,t,r,i){if(i===n){i=r}if(t[r]!==n){e[i]=t[r]}}function Ht(e,t){var n;for(var i in t){if(t.hasOwnProperty(i)){n=t[i];if(r.isPlainObject(n)){if(!e[i]){e[i]={}}r.extend(true,e[i],n)}else{e[i]=n}}}return e}function Bt(e,t,n){r(e).bind("click.DT",t,function(t){e.blur();n(t)}).bind("keypress.DT",t,function(e){if(e.which===13){n(e)}}).bind("selectstart.DT",function(){return false})}function jt(e,t,n,r){if(n){e[t].push({fn:n,sName:r})}}function Ft(e,t,n,i){var s=e[t];var o=[];for(var u=s.length-1;u>=0;u--){o.push(s[u].fn.apply(e.oInstance,i))}if(n!==null){r(e.oInstance).trigger(n,i)}return o}var i;var C=/\[.*?\]$/;var k=/\(\)$/;i=function(C){function k(e){return function(){var t=[Ot(this[i.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return i.ext.oApi[e].apply(this,t)}}this.$=function(e,t){var n,s,o=[],u;var a=Ot(this[i.ext.iApiIndex]);var f=a.aoData;var l=a.aiDisplay;var c=a.aiDisplayMaster;if(!t){t={}}t=r.extend({},{filter:"none",order:"current",page:"all"},t);if(t.page=="current"){for(n=a._iDisplayStart,s=a.fnDisplayEnd();n<s;n++){u=f[l[n]].nTr;if(u){o.push(u)}}}else if(t.order=="current"&&t.filter=="none"){for(n=0,s=c.length;n<s;n++){u=f[c[n]].nTr;if(u){o.push(u)}}}else if(t.order=="current"&&t.filter=="applied"){for(n=0,s=l.length;n<s;n++){u=f[l[n]].nTr;if(u){o.push(u)}}}else if(t.order=="original"&&t.filter=="none"){for(n=0,s=f.length;n<s;n++){u=f[n].nTr;if(u){o.push(u)}}}else if(t.order=="original"&&t.filter=="applied"){for(n=0,s=f.length;n<s;n++){u=f[n].nTr;if(r.inArray(n,l)!==-1&&u){o.push(u)}}}else{Dt(a,1,"Unknown selection options")}var h=r(o);var p=h.filter(e);var d=h.find(e);return r([].concat(r.makeArray(p),r.makeArray(d)))};this._=function(e,t){var n=[];var r,i,s;var o=this.$(e,t);for(r=0,i=o.length;r<i;r++){n.push(this.fnGetData(o[r]))}return n};this.api=function(){return new i.Api(this)};this.fnAddData=function(e,t){if(e.length===0){return[]}var r=[];var s;var o=Ot(this[i.ext.iApiIndex]);if(typeof e[0]==="object"&&e[0]!==null){for(var u=0;u<e.length;u++){s=b(o,e[u]);if(s==-1){return r}r.push(s)}}else{s=b(o,e);if(s==-1){return r}r.push(s)}o.aiDisplay=o.aiDisplayMaster.slice();if(t===n||t){F(o)}return r};this.fnAdjustColumnSizing=function(e){var t=Ot(this[i.ext.iApiIndex]);c(t);if(e===n||e){this.fnDraw(false)}else if(t.oScroll.sX!==""||t.oScroll.sY!==""){this.oApi._fnScrollDraw(t)}};this.fnClearTable=function(e){var t=Ot(this[i.ext.iApiIndex]);_(t);if(e===n||e){j(t)}};this.fnClose=function(e){var t=Ot(this[i.ext.iApiIndex]);for(var n=0;n<t.aoOpenRows.length;n++){if(t.aoOpenRows[n].nParent==e){var r=t.aoOpenRows[n].nTr.parentNode;if(r){r.removeChild(t.aoOpenRows[n].nTr)}t.aoOpenRows.splice(n,1);return 0}}return 1};this.fnDeleteRow=function(e,t,s){var o=Ot(this[i.ext.iApiIndex]);var u,a,f;f=typeof e==="object"?E(o,e):e;var l=o.aoData.splice(f,1);for(u=0,a=o.aoData.length;u<a;u++){if(o.aoData[u].nTr!==null){o.aoData[u].nTr._DT_RowIndex=u}}var c=r.inArray(f,o.aiDisplay);o.asDataSearch.splice(c,1);D(o.aiDisplayMaster,f);D(o.aiDisplay,f);if(typeof t==="function"){t.call(this,o,l)}if(o._iDisplayStart>=o.fnRecordsDisplay()){o._iDisplayStart-=o._iDisplayLength;if(o._iDisplayStart<0){o._iDisplayStart=0}}if(s===n||s){lt(o);j(o)}return l};this.fnDestroy=function(t){var s=Ot(this[i.ext.iApiIndex]);var o=s.nTableWrapper.parentNode;var u=s.nTBody;var a,f;t=t===n?false:t;s.bDestroying=true;Ft(s,"aoDestroyCallback","destroy",[s]);if(!t){for(a=0,f=s.aoColumns.length;a<f;a++){if(s.aoColumns[a].bVisible===false){this.fnSetColumnVis(a,true)}}}r(s.nTableWrapper).unbind(".DT").find("*").unbind(".DT");r(e).unbind(".DT-"+s.sInstance);r("tbody>tr>td."+s.oClasses.sRowEmpty,s.nTable).parent().remove();if(s.nTable!=s.nTHead.parentNode){r(s.nTable).children("thead").remove();s.nTable.appendChild(s.nTHead)}if(s.nTFoot&&s.nTable!=s.nTFoot.parentNode){r(s.nTable).children("tfoot").remove();s.nTable.appendChild(s.nTFoot)}s.nTable.parentNode.removeChild(s.nTable);r(s.nTableWrapper).remove();s.aaSorting=[];s.aaSortingFixed=[];kt(s);r(Mt(s)).removeClass(s.asStripeClasses.join(" "));r("th, td",s.nTHead).removeClass([s.oClasses.sSortable,s.oClasses.sSortableAsc,s.oClasses.sSortableDesc,s.oClasses.sSortableNone].join(" "));if(s.bJUI){r("th span."+s.oClasses.sSortIcon+", td span."+s.oClasses.sSortIcon,s.nTHead).remove();r("th, td",s.nTHead).each(function(){var e=r("div."+s.oClasses.sSortJUIWrapper,this);var t=e.contents();r(this).append(t);e.remove()})}if(!t&&s.nTableReinsertBefore){o.insertBefore(s.nTable,s.nTableReinsertBefore)}else if(!t){o.appendChild(s.nTable)}for(a=0,f=s.aoData.length;a<f;a++){if(s.aoData[a].nTr!==null){u.appendChild(s.aoData[a].nTr)}}s.nTable.style.width=s.sDestroyWidth;f=s.asDestroyStripes.length;if(f){var l=r(u).children("tr");for(a=0;a<f;a++){l.filter(":nth-child("+f+"n + "+a+")").addClass(s.asDestroyStripes[a])}}for(a=0,f=i.settings.length;a<f;a++){if(i.settings[a]==s){i.settings.splice(a,1)}}s=null;C=null};this.fnDraw=function(e){var t=Ot(this[i.ext.iApiIndex]);if(e===false){lt(t);j(t)}else{F(t)}};this.fnFilter=function(e,s,o,u,a,f){var l=Ot(this[i.ext.iApiIndex]);if(!l.oFeatures.bFilter){return}if(o===n||o===null){o=false}if(u===n||u===null){u=true}if(a===n||a===null){a=true}if(f===n||f===null){f=true}if(s===n||s===null){J(l,{sSearch:e+"",bRegex:o,bSmart:u,bCaseInsensitive:f},1);if(a&&l.aanFeatures.f){var c=l.aanFeatures.f;for(var h=0,p=c.length;h<p;h++){try{if(c[h]._DT_Input!=t.activeElement){r(c[h]._DT_Input).val(e)}}catch(d){r(c[h]._DT_Input).val(e)}}}}else{r.extend(l.aoPreSearchCols[s],{sSearch:e+"",bRegex:o,bSmart:u,bCaseInsensitive:f});J(l,l.oPreviousSearch,1)}l._iDisplayStart=0;lt(l);j(l)};this.fnGetData=function(e,t){var r=Ot(this[i.ext.iApiIndex]);if(e!==n){var s=e;if(typeof e==="object"){var o=e.nodeName.toLowerCase();if(o==="tr"){s=E(r,e)}else if(o==="td"){s=E(r,e.parentNode);t=S(r,s,e)}}if(t!==n){return T(r,s,t,"")}return r.aoData[s]!==n?r.aoData[s]._aData:null}return M(r)};this.fnGetNodes=function(e){var t=Ot(this[i.ext.iApiIndex]);if(e!==n){return t.aoData[e]!==n?t.aoData[e].nTr:null}return Mt(t)};this.fnGetPosition=function(e){var t=Ot(this[i.ext.iApiIndex]);var n=e.nodeName.toUpperCase();if(n=="TR"){return E(t,e)}else if(n=="TD"||n=="TH"){var r=E(t,e.parentNode);var s=S(t,r,e);return[r,p(t,s),s]}return null};this.fnIsOpen=function(e){var t=Ot(this[i.ext.iApiIndex]);var n=t.aoOpenRows;for(var r=0;r<t.aoOpenRows.length;r++){if(t.aoOpenRows[r].nParent==e){return true}}return false};this.fnOpen=function(e,n,s){var o=Ot(this[i.ext.iApiIndex]);var u=Mt(o);if(r.inArray(e,u)===-1){return}this.fnClose(e);var a=t.createElement("tr");var f=t.createElement("td");a.appendChild(f);f.className=s;f.colSpan=d(o);if(typeof n==="string"){f.innerHTML=n}else{r(f).html(n)}var l=r("tr",o.nTBody);if(r.inArray(e,l)!=-1){r(a).insertAfter(e)}o.aoOpenRows.push({nTr:a,nParent:e});return a};this.fnPageChange=function(e,t){var r=Ot(this[i.ext.iApiIndex]);ht(r,e);lt(r);if(t===n||t){j(r)}};this.fnSetColumnVis=function(e,t,r){var s=Ot(this[i.ext.iApiIndex]);var o,u;var a=s.aoColumns;var f=s.aoData;var l,h,p;if(a[e].bVisible==t){return}if(t){var v=0;for(o=0;o<e;o++){if(a[o].bVisible){v++}}h=v>=d(s);if(!h){for(o=e;o<a.length;o++){if(a[o].bVisible){p=o;break}}}for(o=0,u=f.length;o<u;o++){if(f[o].nTr!==null){if(h){f[o].nTr.appendChild(f[o]._anHidden[e])}else{f[o].nTr.insertBefore(f[o]._anHidden[e],_t(s,o)[p])}}}}else{for(o=0,u=f.length;o<u;o++){if(f[o].nTr!==null){l=_t(s,o)[e];f[o]._anHidden[e]=l;l.parentNode.removeChild(l)}}}a[e].bVisible=t;B(s,s.aoHeader);if(s.nTFoot){B(s,s.aoFooter)}for(o=0,u=s.aoOpenRows.length;o<u;o++){s.aoOpenRows[o].nTr.colSpan=d(s)}if(r===n||r){c(s);j(s)}Lt(s)};this.fnSettings=function(){return Ot(this[i.ext.iApiIndex])};this.fnSort=function(e){var t=Ot(this[i.ext.iApiIndex]);t.aaSorting=e;F(t)};this.fnSortListener=function(e,t,n){Ct(Ot(this[i.ext.iApiIndex]),e,t,n)};this.fnUpdate=function(e,t,s,o,u){var a=Ot(this[i.ext.iApiIndex]);var f,l;var h=typeof t==="object"?E(a,t):t;if(s===n||s===null){a.aoData[h]._aData=e;for(f=0;f<a.aoColumns.length;f++){this.fnUpdate(T(a,h,f),h,f,false,false)}}else{N(a,h,s,e);l=T(a,h,s,"display");var p=a.aoColumns[s];if(a.aoData[h].nTr!==null){_t(a,h)[s].innerHTML=l}}var d=r.inArray(h,a.aiDisplay);a.asDataSearch[d]=Z(a,x(a,h,"filter",v(a,"bSearchable")));if(u===n||u){c(a)}if(o===n||o){F(a)}return 0};this.fnVersionCheck=i.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:k,_fnInitialise:ot,_fnInitComplete:ut,_fnLanguageCompat:u,_fnAddColumn:f,_fnColumnOptions:l,_fnAddData:b,_fnCreateTr:P,_fnAddTr:w,_fnBuildHead:H,_fnDrawHead:B,_fnDraw:j,_fnReDraw:F,_fnAjaxUpdate:z,_fnAjaxParameters:W,_fnAjaxUpdateDraw:X,_fnAddOptionsHtml:I,_fnFeatureHtmlTable:vt,_fnScrollDraw:mt,_fnAdjustColumnSizing:c,_fnFeatureHtmlFilter:$,_fnFilterComplete:J,_fnFilterCustom:K,_fnFilterColumn:Q,_fnFilter:G,_fnBuildSearchArray:Y,_fnBuildSearchRow:Z,_fnFilterCreateSearch:et,_fnDataToSearch:tt,_fnSort:Nt,_fnSortAttachListener:Ct,_fnSortingClasses:kt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ht,_fnFeatureHtmlInfo:rt,_fnUpdateInfo:it,_fnFeatureHtmlLength:ft,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:dt,_fnVisibleToColumnIndex:h,_fnColumnIndexToVisible:p,_fnNodeToDataIndex:E,_fnVisbleColumns:d,_fnCalculateEnd:lt,_fnConvertToWidth:yt,_fnCalculateColumnWidths:bt,_fnScrollingWidthAdjust:wt,_fnGetWidestNode:Et,_fnGetMaxLenString:St,_fnStringToCss:xt,_fnDetectType:m,_fnSettingsFromNode:Ot,_fnGetDataMaster:M,_fnGetTrNodes:Mt,_fnGetTdNodes:_t,_fnEscapeRegex:nt,_fnDeleteIndex:D,_fnColumnOrdering:g,_fnLog:Dt,_fnClearTable:_,_fnSaveState:Lt,_fnLoadState:At,_fnDetectHeader:q,_fnGetUniqueThs:R,_fnScrollBarWidth:Tt,_fnApplyToChildren:gt,_fnMap:Pt,_fnGetRowData:x,_fnGetCellData:T,_fnSetCellData:N,_fnGetObjectDataFn:A,_fnSetObjectDataFn:O,_fnApplyColumnDefs:y,_fnBindAction:Bt,_fnExtend:Ht,_fnCallbackReg:jt,_fnCallbackFire:Ft,_fnNodeToColumnIndex:S,_fnInfoMacros:st,_fnBrowserDetect:a,_fnGetColumns:v,_fnHungarianMap:s,_fnCamelToHungarian:o,_fnBuildAjax:U,_fnAjaxDataSrc:V};r.extend(i.ext.oApi,this.oApi);for(var L in i.ext.oApi){if(L){this[L]=k(L)}}var at=this;this.each(function(){var e=0,s,c,h,p,d;var v=this.getAttribute("id");var m=false;var g=false;var E=C===n?true:false;if(this.nodeName.toLowerCase()!="table"){Dt(null,0,"Attempted to initialise DataTables on a node which is not a "+"table: "+this.nodeName);return}o(i.defaults,i.defaults,true);o(i.defaults.column,i.defaults.column,true);if(!C){C={}}o(i.defaults,C);for(e=0,s=i.settings.length;e<s;e++){if(i.settings[e].nTable==this){var S=C.bRetrieve!==n?C.bRetrieve:i.defaults.bRetrieve;var x=C.bDestroy!==n?C.bDestroy:i.defaults.bDestroy;if(E||S){return i.settings[e].oInstance}else if(x){i.settings[e].oInstance.fnDestroy();break}else{Dt(i.settings[e],0,"Cannot reinitialise DataTable.\n\n"+"To retrieve the DataTables object for this table, pass no arguments or see "+"the docs for bRetrieve and bDestroy");return}}if(i.settings[e].sTableId==this.id){i.settings.splice(e,1);break}}if(v===null||v===""){v="DataTables_Table_"+i.ext._oExternConfig.iNextUnique++;this.id=v}var T=r.extend(true,{},i.models.oSettings,{nTable:this,oApi:at.oApi,oInit:C,sDestroyWidth:r(this)[0].style.width,sInstance:v,sTableId:v});i.settings.push(T);T.oInstance=at.length===1?at:r(this).dataTable();if(C.oLanguage){u(C.oLanguage)}if(C.aLengthMenu&&!C.iDisplayLength){C.iDisplayLength=r.isArray(C.aLengthMenu[0])?C.aLengthMenu[0][0]:C.aLengthMenu[0]}C=Ht(r.extend(true,{},i.defaults),C);Pt(T.oFeatures,C,"bPaginate");Pt(T.oFeatures,C,"bLengthChange");Pt(T.oFeatures,C,"bFilter");Pt(T.oFeatures,C,"bSort");Pt(T.oFeatures,C,"bInfo");Pt(T.oFeatures,C,"bProcessing");Pt(T.oFeatures,C,"bAutoWidth");Pt(T.oFeatures,C,"bSortClasses");Pt(T.oFeatures,C,"bServerSide");Pt(T.oFeatures,C,"bDeferRender");Pt(T.oScroll,C,"sScrollX","sX");Pt(T.oScroll,C,"sScrollXInner","sXInner");Pt(T.oScroll,C,"sScrollY","sY");Pt(T.oScroll,C,"bScrollCollapse","bCollapse");Pt(T.oScroll,C,"bScrollInfinite","bInfinite");Pt(T.oScroll,C,"iScrollLoadGap","iLoadGap");Pt(T.oScroll,C,"bScrollAutoCss","bAutoCss");Pt(T,C,"asStripeClasses");Pt(T,C,"ajax");Pt(T,C,"fnServerData");Pt(T,C,"fnFormatNumber");Pt(T,C,"sServerMethod");Pt(T,C,"aaSorting");Pt(T,C,"aaSortingFixed");Pt(T,C,"aLengthMenu");Pt(T,C,"sPaginationType");Pt(T,C,"sAjaxSource");Pt(T,C,"sAjaxDataProp");Pt(T,C,"iCookieDuration","iStateDuration");Pt(T,C,"iStateDuration");Pt(T,C,"sDom");Pt(T,C,"bSortCellsTop");Pt(T,C,"iTabIndex");Pt(T,C,"oSearch","oPreviousSearch");Pt(T,C,"aoSearchCols","aoPreSearchCols");Pt(T,C,"iDisplayLength","_iDisplayLength");Pt(T,C,"bJQueryUI","bJUI");Pt(T,C,"fnStateLoadCallback");Pt(T,C,"fnStateSaveCallback");Pt(T.oLanguage,C,"fnInfoCallback");jt(T,"aoDrawCallback",C.fnDrawCallback,"user");jt(T,"aoServerParams",C.fnServerParams,"user");jt(T,"aoStateSaveParams",C.fnStateSaveParams,"user");jt(T,"aoStateLoadParams",C.fnStateLoadParams,"user");jt(T,"aoStateLoaded",C.fnStateLoaded,"user");jt(T,"aoRowCallback",C.fnRowCallback,"user");jt(T,"aoRowCreatedCallback",C.fnCreatedRow,"user");jt(T,"aoHeaderCallback",C.fnHeaderCallback,"user");jt(T,"aoFooterCallback",C.fnFooterCallback,"user");jt(T,"aoInitComplete",C.fnInitComplete,"user");jt(T,"aoPreDrawCallback",C.fnPreDrawCallback,"user");if(T.oFeatures.bServerSide&&T.oFeatures.bSort&&T.oFeatures.bSortClasses){jt(T,"aoDrawCallback",kt,"server_side_sort_classes")}else if(T.oFeatures.bDeferRender){jt(T,"aoDrawCallback",kt,"defer_sort_classes")}if(C.bJQueryUI){r.extend(T.oClasses,i.ext.oJUIClasses);if(C.sDom===i.defaults.sDom&&i.defaults.sDom==="lfrtip"){T.sDom='<"H"lfr>t<"F"ip>'}}else{r.extend(T.oClasses,i.ext.oStdClasses)}r(this).addClass(T.oClasses.sTable);if(T.oScroll.sX!==""||T.oScroll.sY!==""){T.oScroll.iBarWidth=Tt()}if(T.iInitDisplayStart===n){T.iInitDisplayStart=C.iDisplayStart;T._iDisplayStart=C.iDisplayStart}if(C.bStateSave){T.oFeatures.bStateSave=true;At(T,C);jt(T,"aoDrawCallback",Lt,"state_save")}if(C.iDeferLoading!==null){T.bDeferLoading=true;var N=r.isArray(C.iDeferLoading);T._iRecordsDisplay=N?C.iDeferLoading[0]:C.iDeferLoading;T._iRecordsTotal=N?C.iDeferLoading[1]:C.iDeferLoading}if(C.aaData!==null){g=true}if(C.oLanguage.sUrl!==""){T.oLanguage.sUrl=C.oLanguage.sUrl;r.getJSON(T.oLanguage.sUrl,null,function(e){u(e);o(i.defaults.oLanguage,e);r.extend(true,T.oLanguage,C.oLanguage,e);ot(T)});m=true}else{r.extend(true,T.oLanguage,C.oLanguage)}if(C.asStripeClasses===null){T.asStripeClasses=[T.oClasses.sStripeOdd,T.oClasses.sStripeEven]}var k=T.asStripeClasses;if(r.inArray(true,r.map(k,function(e,t){return r("tbody tr:eq(0)",this).hasClass(e)}))!==-1){r("tbody tr",this).removeClass(k.join(" "));T.asDestroyStripes=k.slice()}var L=[];var A;var O=this.getElementsByTagName("thead");if(O.length!==0){q(T.aoHeader,O[0]);L=R(T)}if(C.aoColumns===null){A=[];for(e=0,s=L.length;e<s;e++){A.push(null)}}else{A=C.aoColumns}for(e=0,s=A.length;e<s;e++){if(C.saved_aoColumns!==n&&C.saved_aoColumns.length==s){if(A[e]===null){A[e]={}}A[e].bVisible=C.saved_aoColumns[e].bVisible}f(T,L?L[e]:null)}y(T,C.aoColumnDefs,A,function(e,t){l(T,e,t)});for(e=0,s=T.aaSorting.length;e<s;e++){if(T.aaSorting[e][0]>=T.aoColumns.length){T.aaSorting[e][0]=0}var M=T.aoColumns[T.aaSorting[e][0]];if(T.aaSorting[e][2]===n){T.aaSorting[e][2]=0}if(C.aaSorting===n&&T.saved_aaSorting===n){T.aaSorting[e][1]=M.asSorting[0]}for(c=0,h=M.asSorting.length;c<h;c++){if(T.aaSorting[e][1]==M.asSorting[c]){T.aaSorting[e][2]=c;break}}}kt(T);a(T);var _=r(this).children("caption").each(function(){this._captionSide=r(this).css("caption-side")});var D=r(this).children("thead");if(D.length===0){D=[t.createElement("thead")];this.appendChild(D[0])}T.nTHead=D[0];var P=r(this).children("tbody");if(P.length===0){P=[t.createElement("tbody")];this.appendChild(P[0])}T.nTBody=P[0];T.nTBody.setAttribute("role","alert");T.nTBody.setAttribute("aria-live","polite");T.nTBody.setAttribute("aria-relevant","all");var H=r(this).children("tfoot");if(H.length===0&&_.length>0&&(T.oScroll.sX!==""||T.oScroll.sY!=="")){H=[t.createElement("tfoot")];this.appendChild(H[0])}if(H.length>0){T.nTFoot=H[0];q(T.aoFooter,T.nTFoot)}if(g){for(e=0;e<C.aaData.length;e++){b(T,C.aaData[e])}}else if(T.bDeferLoading||T.sAjaxSource===null&&T.ajax===null){w(T,r(T.nTBody).children("tr"))}T.aiDisplay=T.aiDisplayMaster.slice();T.bInitialised=true;if(m===false){ot(T)}});at=null;return this};(function(){var e=[];var t;var n=Array.prototype;var s=function(e){var t,n;var s=i.settings;var o=r.map(s,function(e,t){return e.nTable});if(e.nTable&&e.oApi){return[e]}else if(e.nodeName&&e.nodeName.toLowerCase()==="table"){t=r.inArray(e,o);return t!==-1?[s[t]]:null}else if(typeof e==="string"){n=r(e)}else if(e instanceof r){n=e}if(n){return n.map(function(e){t=r.inArray(this,o);return t!==-1?s[t]:null})}};var o=function(e){var t=[],n,r,i=e.length,s,o=0;e:for(r=0;r<i;r++){n=e[r];for(s=0;s<o;s++){if(t[s]===n){continue e}}t.push(n);o++}return t};i.Api=t=function(n,i){if(!this instanceof t){throw"DT API must be constructed as a new object"}var u=[];var a=function(e){var t=s(e);if(t){u.push.apply(u,t)}};if(r.isArray(n)){for(var f=0,l=n.length;f<l;f++){a(n[f])}}else{a(n)}this.context=o(u);if(i){this.push.apply(this,i)}t.extend(this,this,e)};t.prototype={concat:n.concat,context:[],each:function(e){if(n.forEach){n.forEach.call(this,e,this)}else{for(var t=0,r=this.length;t<r;t++){e.call(this,this[t],t,this)}}return this},filter:function(e){var r=[];if(n.filter){r=n.filter(this,e,this)}else{for(var i=0,s=this.length;i<s;i++){if(e.call(this,this[i],i,this)){r.push(this[i])}}}return new t(this.context,r)},indexOf:n.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++){if(this[n]===e){return n}}return-1},lastIndexOf:n.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var r=[];if(n.map){r=n.map(this,e,this)}else{for(var i=0,s=this.length;i<s;i++){r.push(e.call(this,this[i],i))}}return new t(this.context,r)},pluck:function(e){return this.map(function(t,n){return t[e]})},pop:n.pop,push:n.push,reduce:n.reduce||function(e,t){var n,r=false;if(arguments.length>1){n=t;r=true}for(var i=0,s=this.length;i<s;i++){if(!this.hasOwnProperty(i)){continue}n=r?e(n,this[i],i,this):this[i];r=true}return n},reduceRight:n.reduceRight||function(e,t){var n,r=false;if(arguments.length>1){n=t;r=true}for(var i=this.length-1;i>=0;i--){if(!this.hasOwnProperty(i)){continue}n=r?e(n,this[i],i,this):this[i];r=true}return n},reverse:n.reverse,shift:n.shift,sort:n.sort,splice:n.splice,toArray:function(){return n.slice.call(this)},unique:function(){return new t(this.context,o(this))},unshift:n.unshift};t.extend=function(e,n,r){if(!n instanceof t){return}var i,s,o,u,a,f=function(n,r){return function(){var i=n.apply(e,arguments);t.extend(i,i,r.methodExt);return i}};for(i=0,s=r.length;i<s;i++){a=r[i];if(typeof a.val==="function"){n[a.name]=f(a.val,a)}else{n[a.name]=a.val}t.extend(e,n[a.name],a.propExt)}};t.register=function(n,r){var s,o,u=n.split("."),a=e,f,l;var c=function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n].name===t){return e[n]}}return null};for(s=0,o=u.length;s<o;s++){l=u[s].indexOf("()")!==-1;f=l?u[s].replace("()",""):u[s];var h=c(a,f);if(!h){h={name:f,val:{},methodExt:[],propExt:[]};a.push(h)}if(s===o-1){h.val=r}else{a=l?h.methodExt:h.propExt}}if(t.ready){i.api.build()}}})();(function(){var e=i.Api;var t=function(e,t){if(typeof e==="number"){return[t[e]]}var n=r.map(t,function(e,t){return e.nTable});return r(n).filter(e).map(function(e){var i=r.inArray(this,n);return t[i]}).toArray()};e.register("tables()",function(r,i){if(typeof r==="function"){i=r;r=n}var s=[];var o=r?t(r,this.context):this.context;if(i){for(var u=0,a=o.length;u<a;u++){var f=i.call(this,o[u],u);if(f!==n){s.push(f)}}}var l=r||s.length?new e(o,s):this;return l});e.register("tables().nodes()",function(){return this.tables(function(e,t){return e.nTable})})})();(function(){var e=i.Api;e.register("draw()",function(e){return this.tables(function(t){F(t,e===false)})})})();(function(){var e=i.Api;e.register("page()",function(e){if(e===n){return this.page.info().page}return this.tables(function(t){ht(t,e);lt(t)})});e.register("page.info()",function(e){if(this.context.length===0){return n}var t=this.context[0],r=t._iDisplayStart,i=t._iDisplayLength,s=t.fnRecordsDisplay(),o=i===-1;return{page:o?0:Math.ceil(r/i),pages:o?1:Math.ceil(s/i),start:r,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s}});e.register("page.len()",function(e){if(e===n){return this.context.length!==0?this.context[0]._iDisplayLength:n}return this.tables(function(t){at(t,e);lt(t)})})})();(function(){var e=i.Api;var t=function(e,t){if(e.oFeatures.bServerSide){F(e,t)}else{U(e,[],function(n){_(e);var r=V(e,n);for(var i=0,s=r.length;i<s;i++){b(e,r[i])}F(e,t)})}};e.register("ajax.json()",function(){var e=this.context;if(e.length>0){var t=e[0].jqXHR;if(t){return r.parseJSON(t.responseText)}}});e.register("ajax.reload()",function(e){return this.tables(function(n){t(n,e===false)})});e.register("ajax.url()",function(e){var t=this.context;if(e===n){if(t.length===0){return n}t=t[0];return t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource}return this.tables(function(t){if(r.isPlainObject(t.ajax)){t.ajax.url=e}else{t.ajax=e}})});e.register("ajax.url().load()",function(){return this.tables(t)})})();(function(){var e=i.Api;e.register("order()",function(e,t){var i=this.context;if(e===n){return i.length!==0?i[0].aaSorting:n}if(typeof e==="number"){e=[[e,t]]}else if(!r.isArray(e[0])){e=Array.prototype.slice.call(arguments)}return this.tables(function(t){t.aaSorting=e})});e.register("order.listener()",function(e,t,n){return this.tables(function(r){Ct(r,e,t,n)})})})();i.fnVersionCheck=function(e){var t=i.ext.sVersion.split(".");var n=e.split(".");var r,s;for(var o=0,u=n.length;o<u;o++){r=parseInt(t[o],10)||0;s=parseInt(n[o],10)||0;if(r===s){continue}return r>s}return true};i.fnIsDataTable=function(e){var t=i.settings;for(var n=0;n<t.length;n++){if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e){return true}}return false};i.fnTables=function(e){var t=[];jQuery.each(i.settings,function(n,i){if(!e||e===true&&r(i.nTable).is(":visible")){t.push(i.nTable)}});return t};i.version="1.10.0-dev";i.settings=[];i.models={};i.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:i.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:i.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};i.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};i.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};i.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_bAutoType:true,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};i.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollAutoCss:true,bScrollCollapse:false,bScrollInfinite:false,bServerSide:false,bSort:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(e<1e3){return e}var t=e+"",n=t.split(""),r="",i=t.length;for(var s=0;s<i;s++){if(s%3===0&&s!==0){r=this.oLanguage.sInfoThousands+r}r=n[i-s-1]+r}return r},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance+"_"+e.location.pathname))}catch(n){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,n){try{localStorage.setItem("DataTables_"+t.sInstance+"_"+e.location.pathname,JSON.stringify(n))}catch(r){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},i.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};s(i.defaults);i.defaults.column={aDataSort:null,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};s(i.defaults.column);i.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}},fnRecordsDisplay:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}},fnDisplayEnd:function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};i.ext=r.extend(true,{},i.models.ext);r.extend(i.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});r.extend(i.ext.oJUIClasses,i.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+"ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});r.extend(i.ext.oPagination,{two_button:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate;var s=e.oClasses;var o=function(t){if(e.oApi._fnPageChange(e,t.data.action)){n(e)}};var u=!e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sPrevious+"</a>"+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sNext+"</a>":'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>';r(t).append(u);var a=r("a",t);var f=a[0],l=a[1];e.oApi._fnBindAction(f,{action:"previous"},o);e.oApi._fnBindAction(l,{action:"next"},o);if(!e.aanFeatures.p){t.id=e.sTableId+"_paginate";f.id=e.sTableId+"_previous";l.id=e.sTableId+"_next";f.setAttribute("aria-controls",e.sTableId);l.setAttribute("aria-controls",e.sTableId)}},fnUpdate:function(e,t){if(!e.aanFeatures.p){return}var n=e.oClasses;var r=e.aanFeatures.p;var i;for(var s=0,o=r.length;s<o;s++){i=r[s].firstChild;if(i){i.className=e._iDisplayStart===0?n.sPagePrevDisabled:n.sPagePrevEnabled;i=i.nextSibling;i.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate;var s=e.oClasses;var o=function(t){if(e.oApi._fnPageChange(e,t.data.action)){n(e)}};r(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+i.sFirst+"</a>"+'<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+i.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+i.sNext+"</a>"+'<a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+i.sLast+"</a>");var u=r("a",t);var a=u[0],f=u[1],l=u[2],c=u[3];e.oApi._fnBindAction(a,{action:"first"},o);e.oApi._fnBindAction(f,{action:"previous"},o);e.oApi._fnBindAction(l,{action:"next"},o);e.oApi._fnBindAction(c,{action:"last"},o);if(!e.aanFeatures.p){t.id=e.sTableId+"_paginate";a.id=e.sTableId+"_first";f.id=e.sTableId+"_previous";l.id=e.sTableId+"_next";c.id=e.sTableId+"_last"}},fnUpdate:function(e,t){if(!e.aanFeatures.p){return}var n=i.ext.oPagination.iFullNumbersShowPages;var s=Math.floor(n/2);var o=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength);var u=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1;var a="";var f,l,c,h;var p=e.oClasses;var d,v,m,g;var y=e.aanFeatures.p;var b=function(n){e.oApi._fnBindAction(this,{page:n+f-1},function(n){e.oApi._fnPageChange(e,n.data.page);t(e);n.preventDefault()})};if(e._iDisplayLength===-1){f=1;l=1;u=1}else if(o<n){f=1;l=o}else if(u<=s){f=1;l=n}else if(u>=o-s){f=o-n+1;l=o}else{f=u-Math.ceil(n/2)+1;l=f+n-1}for(c=f;c<=l;c++){a+=u!==c?'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButton+'">'+e.fnFormatNumber(c)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButtonActive+'">'+e.fnFormatNumber(c)+"</a>"}for(c=0,h=y.length;c<h;c++){g=y[c];if(!g.hasChildNodes()){continue}r("span:eq(0)",g).html(a).children("a").each(b);d=g.getElementsByTagName("a");v=[d[0],d[1],d[d.length-2],d[d.length-1]];r(v).removeClass(p.sPageButton+" "+p.sPageButtonActive+" "+p.sPageButtonStaticDisabled);r([v[0],v[1]]).addClass(u==1?p.sPageButtonStaticDisabled:p.sPageButton);r([v[2],v[3]]).addClass(o===0||u===o||e._iDisplayLength===-1?p.sPageButtonStaticDisabled:p.sPageButton)}}}});r.extend(i.ext.oSort,{"string-pre":function(e){if(typeof e!="string"){if(e===null||e===n||!e.toString){return""}e=e.toString()}return e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"date-pre":function(e){var t=Date.parse(e);if(isNaN(t)||t===""){t=Date.parse("01/01/1970 00:00:00")}return t},"numeric-pre":function(e){return e=="-"||e===""?-Infinity:e*1}});r.extend(i.ext.aTypes,[function(e){return e===""||e==="-"||!isNaN(parseFloat(e))&&isFinite(e)?"numeric":null},function(e){var t=Date.parse(e);return t!==null&&!isNaN(t)||typeof e==="string"&&e.length===0?"date":null},function(e){return typeof e==="string"&&e.indexOf("<")!=-1&&e.indexOf(">")!=-1?"html":null}]);r.fn.dataTable=i;r.fn.DataTable=function(e){return r(this).dataTable(e).api()};r.fn.dataTableSettings=i.settings;r.fn.dataTableExt=i.ext})})(window,document)

$(document).ready(function() {
	$('[aria-hidden="true"]').hide(); //hide anything that's marked as hidden to screen-readers

	if ( $('#navbar-search-full').length ) {
		//when it receives focus, grow the search input from span5 to span9
		$('#header_search_criteria').focus( function() {
			"use strict"; //let's avoid tom-foolery in this function
			$(this).switchClass('span4', 'span9', 200);
		}).blur( function() {
			"use strict"; //let's avoid tom-foolery in this function
			$(this).delay(200).switchClass('span9', 'span4', 200);
		});
		
		// change full search link to first change form target, then submit that form; change link's href to be an internal link; update link's title
		$('#navbar-search-full').click( function(event) {
			"use strict"; //let's avoid tom-foolery in this function
			event.preventDefault(); //don't let the link open a new page
			$('#form-navbar-search').attr('action',  $(this).attr('href')).submit(); //instead, change the search form action, then submit it
		}).attr('title', $('#navbar-search-full').attr('title')+' with entered criteria');
	}

	if ( $('#help_area').length ) {
		//console.log( $('#help_area') );
		var jump_manager=function(target) {
			"use strict"; //let's avoid tom-foolery in this function
			// only jump to the revealed help area if its position is static (as opposed to "fixed")
			if ( $('#help_area').css('position')==='static' ) {
				window.location.hash = target;
			}
		};
		
		// bind help area reveal/conceal to relevant elements
		$('#nav_help_button').click(function(event) {
			"use strict"; //let's avoid tom-foolery in this function
			event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
			//adjust spans of main block and help area, set aria-hidden attribute on help block to help screen-readers
			if ( $('#help_area').attr('aria-hidden')==='true' ) {
				$('#content_container.span12').switchClass('span12', 'span9', 300);
				$('#help_area').delay(300).slideToggle(300, function() { jump_manager('help_area'); }).attr('aria-hidden', 'false');	
			}
			else {
				$('#help_area').slideToggle(300, function() { jump_manager(''); }).attr('aria-hidden', 'true');
				$('#content_container.span9').delay(300).switchClass('span9', 'span12', 300);
			}
		});
		
		// when called, getHelp loads relevant help area with content from jQuery's AJAX call
		var getHelp = function (helpType, helpID) {
			"use strict"; //let's avoid tom-foolery in this function
			//console.log('$(\'div #help_main_'+helpType+'\').load(\'index.cfm?fuseaction=Help.view_help_'+helpType+'&help_'+helpType+'_id='+helpID+' dl dd\');');
			//console.log('index.cfm?fuseaction=Help.view_help_'+helpType+'&help_'+helpType+'_id='+helpID+' dl dd');
			//console.log( $('div #help_main_'+helpType) );
			$('div #help_main_'+helpType).load(
				'index.cfm?fuseaction=Help.view_help_'+helpType+'&help_'+helpType+'_id='+helpID+' dl dd',
				function(response, status, xhr) {
					if (status === 'error') {
						//console.log('got here');
						$('div #help_main_'+helpType).html('<h2>Oh boy</h2><p>Sorry, but there was an error:' + xhr.status + ' ' + xhr.statusText+ '</p>');
					}
					return this;
				}
			);
		};
		
		if ( $('#help_content_article').length ) {
			//console.log('help articles active2');
			
			//load article div with default content
			//getHelp('article', default_help);
			
			//assign onclick event to help article anchor tags to make use of AJAX calls instead of native HTML link functionality
			$('#help_top_article a.article').click(function(event) {
				"use strict"; //let's avoid tom-foolery in this function
				event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
				getHelp( 'article', $(this).attr('data-id') );
			}).attr('href', '#help_area').attr('aria-controls', 'help_main_article');
			$('#help_top_article a.edit').click(function(event) {
				"use strict"; //let's avoid tom-foolery in this function
				event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
				edit_help_article( $(this).attr('data-id') );
			}).attr('href', '#help_area');
		}

		if ( $('#help_content_faq').length ) {
			// console.log('help faq active');
			
			//load faq div with default content
			getHelp('faq', default_faq);
			
			//assign onclick event to help FAQ anchor tags to make use of AJAX calls instead of native HTML link functionality
			$('#help_top_faq a.question').click(function(event) {
				"use strict"; //let's avoid tom-foolery in this function
				event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
				getHelp( 'faq', $(this).attr('data-id') );
			}).attr('href', '#help_area').attr('aria-controls', 'help_main_faq');
			$('#help_top_faq a.edit').click(function(event) {
				"use strict"; //let's avoid tom-foolery in this function
				event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
				edit_help_faq( $(this).attr('data-id') );
			}).attr('href', '#help_area');

			//grab form actions from baseline HTML then replace with javascript that will call Ajax functions
			var faq_form_action=$('#faq_form').attr('action');
			$('#faq_form').attr('action', 'javascript:submit_faq();');
			
			// if user requests an email response to their FAQ, require that they specify an email address
			$('#email_requested_ind').on('change', function(){
				"use strict"; //let's avoid tom-foolery in this function
				if($(this).is(':checked')){
					$('#asker_email_address').attr('required','required');
				}
				else {
					$('#asker_email_address').removeAttr('required','required');
				}
			});
			
			// handles the submission of a user's question
			var submit_faq = function() {
				"use strict"; //let's avoid tom-foolery in this function
				var errorMessage='',
					fieldFocus='',
					emailFilter = /^[\-a-z0-9~!$%\^&*_=+}{\'?]+(\.[\-a-z0-9~!$%\^&*_=+}{\'?]+)*@([a-z0-9_][\-a-z0-9_]*(\.[\-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;
				
				//if user requests an email response to their FAQ, require that they specify a (valid) email address
				//console.log($('#faq_form #asker_email_address').val());
				if( $('#faq_form #asker_email_address').attr('required') === 'required' ) {
					var emailAddressValue=$('#faq_form #asker_email_address').val();
					if( !emailAddressValue.length ) {
						errorMessage+='Please enter your email address so we can send the response to you as (you requested).';
						fieldFocus='#asker_email_address';
					}
					else if( !emailFilter.test(emailAddressValue) ) {
						errorMessage+='This email address doesn\'t look right.';
						fieldFocus='#asker_email_address';
					}
				}
				
				//require a question
				//console.log($('#faq_form #question').val());
				if($('#faq_form #question').val() === '') {
					errorMessage='Please enter your question.\n'+errorMessage;
					fieldFocus='#question';
				}
				
				if( errorMessage !== '') {
					alert(errorMessage);
					$(fieldFocus).focus();
				}
				else {
					$('div #help_main_faq').load(
						faq_form_action+' #faq_result',
						$('#faq_form').serialize(),
						function(response, status, xhr) {
							if (status === 'error') {
								$('div #help_main_faq').html('<h2>Oh boy</h2><p>Sorry, but there was an error:' + xhr.status + ' ' + xhr.statusText+ '</p>');
							}
							else {
								$('#question').val('');
								$('#faq_form_legend').text('Want to ask something else?');
								$('#question_label').text('Ask another question');
							}
							return this;
						}
					);
				}
			};
		}

		if ( $('#help_content_search').length ) {
			//grab form actions from baseline HTML then replace with javascript that will call Ajax functions
			var help_search_form_action=$('#help_search_form').attr('action');
			$('#help_search_form').attr('action', 'javascript:submit_search();');
			
			var submit_search = function() {
				"use strict"; //let's avoid tom-foolery in this function
				$('div #help_main_search').load(
					help_search_form_action+' #search_result',
					$('#help_search_form').serialize(),
					function(response, status, xhr) {
						if (status === 'error') {
							$('div #help_main_faq').html('<h2>Oh boy</h2><p>Sorry, but there was an error:' + xhr.status + ' ' + xhr.statusText+ '</p>');
						}
						return this;
					}
				);
				$('div #help_main_search').focus();
			};
		}
	}

	//if page includes resolution entry, inject a widget that will track how long the task has been open, adding a quarter hour every 15 minutes
	if( $('#task_details_resolution_entry_hours').length && !$('#task_open_link').length ) {
		var elapsed_time_running,
			elapsed_time=0.25;
		
		function update_elapsed_time() {
			//add quarter hour
			elapsed_time+=0.25;

			//update HTML fields
			$('#task_open_link').attr('title', 'Update hours field to '+elapsed_time+' hours');
			$('#task_open_clock').text(elapsed_time);

			if(elapsed_time==24) {
				clearInterval(elapsed_time_running);
			};
		};

		// inject clock span
		$('#task_details_resolution_entry_hours').append( '<!-- following clock image and related HTML are injected from plugins.js --><button type="button" id="task_open_link" title="Update hours field to 0.25 hours." class="btn btn-mini"><i class="icon-time"></i> <span id="task_open_clock">0.25</span> hours</button>' );
		$('#task_open_link').click(function(event) {
			"use strict"; //let's avoid tom-foolery in this function
			event.preventDefault(); //don't let a tag try to jump us to #help_area before we reveal it
			$('#hours').val( elapsed_time );
		});

		// add a quarter hour every 15 minutes
		elapsed_time_running=setInterval(function() {update_elapsed_time()}, 900000);
	};
	
	/*the following 29 lines of code are not ready for production
	if (!(Modernizr.input.required)) {
	}
	else {
		//everything in here actually goes above, and this else block gets deleted.
		//bind client-side validation to required input elements
		$('form input:required').parents('form').submit( function() {
			// console.log('Handler for submit called');
			$('form input:required').each( function () {
				if (!$(this).val().length) {
					alert('Please enter a value for '+$(this).prev('label').html());
					return false;
				}
				switch($(this).attr('type'))
				{
					//deal with dates
					case 'date':
						console.log('date');
						break;
					//deal with numbers
					case 'number':
						console.log('number');
						break;
					//deal with text
					case 'text':
						console.log('text');
						break;
				}
			})
		})
	};
	*/
	
	if( $('a[data-toggle="modal"]').length ) {
		$('#content_container').append('<div id="utility" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="utility-label" aria-hidden="true" style="display: none;" data-common-name="utility"><div class="modal-header"><button type="button" class="close btn" data-dismiss="modal" aria-hidden="false">x</button><h3 id="utility-label">Modal Heading</h3></div><div class="modal-body" id="utility_body">placeholder</div><div class="modal-footer"></div></div>' );
		$('a[data-toggle="modal"]').on('click', function(){
			// update modal header with contents of button that invoked the modal
			$('#utility-label').html( $(this).html() );
			var utility_target=$(this).attr('href')+' #content_container';
			//fixes a bootstrap bug that prevents a modal from being reused
			console.log('target: '+utility_target);
			$('#utility_body').load(
				utility_target,
				function(response, status, xhr) {
					if (status === 'error') {
						//console.log('got here');
						$('#utility_body').html('<h2>Oh boy</h2><p>Sorry, but there was an error:' + xhr.status + ' ' + xhr.statusText+ '</p>');
					}
					else {
						//converts any forms within #utility_body into using .load() to submit intended data and display the server response within the submitting modal
						$('#utility_body form').submit(function(e){
							e.preventDefault(); // stops browser from doing default submit process
							$('#utility_body').load(
								$(this).attr('action')+' #content_container',
								$(this).serialize(),
								function(response, status, xhr) {
									if (status === 'error') {
										//console.log('got here');
										$('#utility_body').html('<h2>Oh boy</h2><p>Sorry, but there was an error:' + xhr.status + ' ' + xhr.statusText+ '</p>');
									}
									return this;
								}
							);
						});
					};
					
					return this;
				}
			);
		});
	};

	if( $('.tree').length ) {
		// .tree widget
		var $tree=$('.tree');
		$tree.children('ul').attr('role', 'tree').find('ul').attr('role', 'group');
		$tree.find('li:has(ul)').addClass('parent_li').attr('role', 'treeitem').find(' > span').attr('title', 'Collapse this branch').on('click', function (e) {
			var $children = $(this).parent('li.parent_li').find(' > ul > li');
			if ($children.is(':visible')) {
				$children.hide('fast');
				$(this).attr('title', 'Expand this branch').find(' > i').addClass('icon-plus-sign').removeClass('icon-minus-sign');
			}
			else {
				$children.show('fast');
				$(this).attr('title', 'Collapse this branch').find(' > i').addClass('icon-minus-sign').removeClass('icon-plus-sign');
			}
			e.stopPropagation();
		});
	};
});